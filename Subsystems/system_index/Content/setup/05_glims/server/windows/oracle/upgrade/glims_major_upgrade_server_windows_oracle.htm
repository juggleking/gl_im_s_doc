<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="system_index.xml" data-mc-path-to-help-system="../../../../../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Setup|Major upgrade|GLIMS on an Oracle database|Windows server" data-mc-priority="0" data-mc-time-estimate="0" data-mc-id="Uninstalling">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../../../../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>GLIMS - Major upgrade on a Windows server with an Oracle database</title>
        <link href="../../../../../../Resources/StyleSheets/shared.css" rel="stylesheet" type="text/css" />
        <script src="../../../../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../../../../Resources/Scripts/require.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../../../../../Resources/Scripts/require.config.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../../../../../Resources/Scripts/foundation.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../../../../../Resources/Scripts/plugins.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../../../../../Resources/Scripts/MadCapAll.js" defer="defer" type="text/javascript">
        </script>
    </head>
    <body>
        <h1><a name="aanchor8"></a>
            <MadCap:concept term="System management" />GLIMS - Major upgrade on a Windows server with an Oracle database</h1>
        <div class="text_box_warnings">This procedure should only be executed by a MIPS representative.</div>
        <h2>Prerequisites</h2>
        <p>This procedure starts from the assumption that a functioning GLIMS 8 environment is available.</p>
        <p>This environment should be runnning on an&#160;Oracle Database version supported by GLIMS <span class="PrimaryCurrentVersion">9.9</span>. If this is not the case, an Oracle Database version upgrade should take place before upgrading to&#160;GLIMS&#160;<span class="PrimaryCurrentVersion">9.9</span>. </p>
        <p>&#160;</p>
        <h2>Installation</h2>
        <p>Extract the installation files you have downloaded from the MIPS website in an installation folder of your choice.</p>
        <p>Start the InstallShield setup by running <b>setup.exe</b> from the installation folder.</p>
        <p>&#160;</p>
        <p>Wait for the initialization to complete.</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000001.png" />
        </p>
        <p>&#160;</p>
        <p>A <b>welcome dialog</b> is shown.&#160;Click <b>Next</b> to proceed.</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000002.png" />
        </p>
        <p>&#160;</p>
        <p>The setup will show a warning screen when the <b>system requirements</b> are not fully met.<br />Warning messages are not blocking the setup.<br />Fatal messages stop the installer from continuing.</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000003.png" />
        </p>
        <p>&#160;</p>
        <p>Optionally you can press the <b>Open logfile</b> button to get more details.</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000004.png" />
        </p>
        <p>&#160;</p>
        <p>Please accept the <b>License Agreement</b>.</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000005.png" />
        </p>
        <p>&#160;</p>
        <p>The installer automatically detects the previous GLIMS 8 installation and asks what to do with it.</p>
        <ul>
            <li style="font-weight: normal;" value="1">An <b>Upgrade</b> will install the new version and convert the existing database</li>
            <li style="font-weight: normal;" value="2">A <b>New installation</b> will install the new version and create an new database for it. This is useful for testing purposes.</li>
        </ul>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000007.png" />
        </p>
        <p>&#160;</p>
        <p>The installer gives a couple of instructions about what to do before you start the actual upgrade. Ready these instructions carefully and take them seriously!</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000008.png" />
        </p>
        <p>&#160;</p>
        <p>Confirm the <b>previous version installation folder</b>. The installer will copy some configuration files to the GLIMS&#160;9 environment from here.</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000009.png" />
        </p>
        <p>&#160;</p>
        <p>Confirm the <b>previous version progress.ini</b> file. The installer will copy some settings to the GLIMS&#160;9 environment from here.</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000010.png" />
        </p>
        <p>&#160;</p>
        <p>An upgrade consists of different steps. You can choose what to do between the individual steps:</p>
        <ul>
            <li value="1">When choosing <b>Upgrade without interruption</b>, the installer will just continue till the end of the upgrade without asking further questions. This can be useful if you want to do a full unattended upgrade, but you loose control in case of warnings and error messages.</li>
            <li style="font-weight: normal;" value="2">When choosing <b>Ask confirmation after each upgrade step</b>, the installer will wait for a confirmation after each upgrade step. By doing this, small problems can still be fixed during the upgrade.</li>
            <li style="font-weight: normal;" value="3">When choosing <b>Skip automatic upgrade</b>, the installer will just deploy the new software version without converting the database.</li>
        </ul>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000011.png" />
        </p>
        <p>&#160;</p>
        <p>Choose the <b>application root folder</b> in which GLIMS <span class="PrimaryCurrentVersion">9.9</span> will be installed.<br />E.g.: C:\glims9</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000012.png" />
        </p>
        <p>&#160;</p>
        <p>Most setups can be performed with the <b>Typical</b> option.</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000013.png" />
        </p>
        <p>&#160;</p>
        <p>However, if you want to install rather rare components like the CPage interface, the Carte Vitale drivers or the German billing data files, you can choose for a <b>Custom</b> install. In this case the following screen will be shown.</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000014.png" />
        </p>
        <p>&#160;</p>
        <p>Select the <b>Oracle home folder</b> to be used. An Oracle home folder is the installation folder of an&#160;Oracle Database Client software installation.&#160;You can choose between multiple home folders if multiple Oracle Database Client software versions reside on the same machine.&#160;Note that the application server installer only detects 32 bit versions of the Oracle Database Client software.</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000015.png" />
        </p>
        <p>&#160;</p>
        <p>The <b>Net Service Name</b> or TNS Name is the client side identification of the database.&#160;This name can be different from the database name as defined on the server. The Net Service Name is defined in the tnsnames.ora file and points to the name and listener port of the server. </p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000016.png" />
        </p>
        <p>&#160;</p>
        <p>The conversion procedures require DBA rights on the database.&#160;Enter an Oracle connection string for a user having the DBA role.</p>
        <p>Examples:</p>
        <ul>
            <li value="1"><code>sys/&lt;sys password&gt;@&lt;net service name&gt; as sysdba;</code>
                <br />User <i>sys</i> is the database wide system administrator, which has DBA rights by definition.&#160;It is mandatory to connect explicitly with the <i>sysdba</i> role.<br /></li>
            <li value="2"><code>oraglims/&lt;oraglims password&gt;@&lt;net service name&gt;;</code>
                <br />Can be used if the DBA roles were not revoked from the <i>oraglims</i> user.&#160;Do not specify the <i>sysdba</i> role in this case.</li>
            <li style="font-style: normal;" value="3"><code>mydba/&lt;password&gt;@&lt;net service name&gt;</code>
                <br />Any other user having the DBA role.<br /></li>
        </ul>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000017.png" />
        </p>
        <p>&#160;</p>
        <p>During the conversion, some  changes are made to existing indexes in the database, merely to guarantee consistent sorting of data. Making these changes can be very time consuming, so the index reconstruction can be postponed until after the upgrade, so the index reconstruction can be executed online. Scripts are provided by the installer.</p>
        <div class="text_box_warnings">Skipping the index reconstruction during the upgrade means that the DBA needs to take care of this shortly (hours or days) after the upgrade. Running the index reconstruction online increases the risks for database locks are reduced performance. The index reconstruction needs to be monitored closely by the DBA.<br /></div>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000018.png" />
        </p>
        <p>&#160;</p>
        <p>The <b>temporary folder</b> is typically located under the GLIMS root folder.<br />E.g.: C:\glims9\tmp</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000019.png" />
        </p>
        <p>&#160;</p>
        <p>Specify the <b>name server listening port</b>. In most cases, the proposed default value can be used.</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000021.png" />
        </p>
        <p>&#160;</p>
        <p>Specify a <b>log directory</b> for the name server.</p>
        <p>This directory should never be a subdirectory of an existing application, including the installation folder of the ongoing GLIMS installation.</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000022.png" />
        </p>
        <p>&#160;</p>
        <p>Specify the <b>application server listening ports</b>. In most cases, the proposed default values can be used.</p>
        <p>Most of the GLIMS clients will use the Production application server.&#160;For debugging purposes, a client can switch to the Debug application server, which generates more logging and which can be reconfigured or restarted independently from the production environment.</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000020.png" />
        </p>
        <p>&#160;</p>
        <p>Click <b>Install</b> to begin the installation.</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000024.png" />
        </p>
        <p>&#160;</p>
        <p>Wait while GLIMS is being upgraded:</p>
        <p>&#160;</p>
        <ul>
            <li value="1">Files are being copied</li>
        </ul>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000025.png" />
        </p>
        <p>&#160;</p>
        <ul>
            <li value="1">The schema holder database is upgraded from OpenEdge 10 to OpenEdge 11.<br />Questions are answered automatically.<br /></li>
        </ul>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000026.png" />
        </p>
        <p>&#160;</p>
        <ul>
            <li value="1">The schema holder database scheme is being upgraded.&#160;This happens in two steps, for the glims and the genrw tablespaces.</li>
        </ul>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000027.png" />
        </p>
        <p>&#160;</p>
        <p>If you have chosen to confirm each upgrade step, the message below will be shown.</p>
        <p>Smaller errors can be fixed during the upgrade. Do not continue in case of more severe errors.</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000028.png" />
        </p>
        <p>&#160;</p>
        <ul>
            <li value="1">The Oracle database scheme is being upgraded.&#160;This happens for the glims and the genrw tablespaces. This is the "constructive" phase: new fields and tables are added.</li>
        </ul>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000029.png" />
        </p>
        <p>&#160;</p>
        <ul>
            <li value="1">Data is being converted</li>
        </ul>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000031.png" />
        </p>
        <p>&#160;</p>
        <ul>
            <li value="1">More changes are made to the Oracle database scheme,&#160;both for the glims and the genrw tablespaces. This is the "destructive" phase: obsolete tables and fields are removed. During this phase, new indexes are also added to the database. </li>
        </ul>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000032.png" />
        </p>
        <p>&#160;</p>
        <p>Optionally you can review the GLIMS installation log file.</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000032b.png" />
        </p>
        <p>&#160;</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000033.png" />
        </p>
        <p>&#160;</p>
        <p>The installer gives a couple of instructions about what to after the upgrade. Ready these instructions carefully and take them seriously!</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000034.png" />
        </p>
        <p>&#160;</p>
        <p>If you have chosen to skip the non-mandatory index rebuilt, you will get a reminder for it.</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000035.png" />
        </p>
        <p>&#160;</p>
        <p>Press <b>Finish</b> to close the GLIMS setup.</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000036.png" />
        </p>
        <p>&#160;</p>
        <p>A reboot is recommended.</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000037.png" />
        </p>
        <p>&#160;</p>
        <p>&#160;</p>
        <h2>Starting the first&#160;GLIMS session</h2>
        <p>When starting the GLIMS Server for the first time an automatic version update from version 9.1 to the target GLIMS version will take place. </p>
        <p>No user interaction is required.</p>
        <p>&#160;</p>
        <div class="text_box_warnings">
            <p><span style="color: #ff0000; font-weight: bold;">Warning</span>
            </p>
            <p>Make sure to install the most recent corrective version before logging in to GLIMS.</p>
        </div>
        <p>&#160;</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000039.png" />
        </p>
        <p>&#160;</p>
        <h2>Rebuilding the non-mandatory indexes</h2>
        <p>If you have chosen to postpone the non-mandatory index rebuild, two icons will be placed on the desktop. These icons point to the index recreation scripts:</p>
        <ul>
            <li value="1">&lt;GLIMS folder&gt;\cnv\glimscnv3postupgrade.sql</li>
            <li value="2">&lt;GLIMS folder&gt;\cnv\genrwcnv3postupgrade.sql</li>
        </ul>
        <p>Either click on the icons the run the index rebuild automatically, or run the scripts manually in sqlplus.</p>
        <div class="text_box_warnings">Running the index reconstruction online increases the risks for database locks are reduced performance. The index reconstruction needs to be monitored closely by the DBA.</div>
        <p>&#160;</p>
        <p>
            <img src="images/Glims_Oracle_Server-Upgrade-000038.png" />
        </p>
    </body>
</html>