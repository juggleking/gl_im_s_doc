<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en" xml:lang="en" data-mc-search-type="Stem" data-mc-help-system-file-name="astm_index.xml" data-mc-path-to-help-system="../../../../../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="ASTM - Internal GLIMS protocol|Related issues">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../../../../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>Fields accessible with Station.UnknownSpecimenTrigger</title>
        <link rel="stylesheet" href="../../../../../../Resources/StyleSheets/shared.css" type="text/css" />
        <style>table.MsoTableGrid
{
	border: 1.0pt solid windowtext;
	font-size: 10.0pt;
	font-family: Times New Roman;
}

font.hcp1
{
	font-size: 8pt;
}

td.hcp2
{
	border-left: medium none;
	border-right: 1.0pt solid windowtext;
	border-top: 1.0pt solid windowtext;
	border-bottom: 1.0pt solid windowtext;
}

td.hcp3
{
	border-left: 1.0pt solid windowtext;
	border-right: 1.0pt solid windowtext;
	border-top: medium none;
	border-bottom: 1.0pt solid windowtext;
}

td.hcp4
{
	border-left: medium none;
	border-right: 1.0pt solid windowtext;
	border-top: medium none;
	border-bottom: 1.0pt solid windowtext;
}

</style>
        <script src="../../../../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../../../../Resources/Scripts/require.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../../../../../Resources/Scripts/require.config.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../../../../../Resources/Scripts/foundation.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../../../../../Resources/Scripts/plugins.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../../../../../Resources/Scripts/MadCapAll.js" defer="defer" type="text/javascript">
        </script>
    </head>
    <body>
        <h2>Fields accessible with station unknown specimen trigger</h2>
        <h3>Usage</h3>
        <p>This mechanism allows accessing data from the <a href="../R_Message.htm">result message</a> in a more standard 
way.&#160; It can be used for any POC analyzer and is driver independent.</p>
        <p>The station unknown specimen trigger (MISPL function) has access to data in the 
ASTM result message received from the station's translator. The data is 
(temporarily) passed as 
a tagged list in the specimen internal comment.&#160; The main 'context' tags are: Message, 
Patient, Specimen and Result. Each tag's value is also a tagged list representing 
the fields in that context of the message.&#160; The result context tag concerns 
the first result uploaded in the message.</p>
        <p>The table below shows the available fields:</p>
        <table class="dm1">
            <tr>
                <td class="cdm1"><b>Message context tags</b>
                </td>
                <td class="cdm1"><b>Field tags</b>
                </td>
                <td class="cdm1"><b>MIPS ASTM field</b>
                </td>
                <td class="cdm2"><b>Format</b>
                </td>
            </tr>
            <tr>
                <td class="cdm1">Message</td>
                <td class="cdm1">Sender</td>
                <td class="cdm1">H.5.1.1</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">Time</td>
                <td class="cdm1">H.14.1.1</td>
                <td class="cdm2"><a href="../../../FieldSyntax/DateTime.htm">Date 
		time</a>
                </td>
            </tr>
            <tr>
                <td class="cdm1">Patient</td>
                <td class="cdm1">Id1</td>
                <td class="cdm1">P.3.1.1</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">Id2</td>
                <td class="cdm1">P.4.1.1</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">Id3</td>
                <td class="cdm1">P.5.1.1</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">Physician</td>
                <td class="cdm1">P.14.1.1</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">AdmissionDate</td>
                <td class="cdm1">P.24.1.1</td>
                <td class="cdm2"><a href="../../../FieldSyntax/Date.htm">Date</a>
                </td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">DischargedDate</td>
                <td class="cdm1">P.24.2.1</td>
                <td class="cdm2"><a href="../../../FieldSyntax/Date.htm">Date</a>
                </td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">AdmissionStatus</td>
                <td class="cdm1">P.25.1.1</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">LocationWard</td>
                <td class="cdm1">P.26.1.1</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">LocationRoom</td>
                <td class="cdm1">P.26.1.2</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">HospitalService</td>
                <td class="cdm1">P.33.1.1</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">Specimen</td>
                <td class="cdm1">Id</td>
                <td class="cdm1">O.3.1.1</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">ManualId</td>
                <td class="cdm1">O.4.1.1</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">Rack</td>
                <td class="cdm1">O.4.1.2</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">Position</td>
                <td class="cdm1">O.4.1.3</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">StorageType</td>
                <td class="cdm1">O.4.1.5</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">TestId</td>
                <td class="cdm1">O.5.1.4</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">RequestTime</td>
                <td class="cdm1">O.7.1.1</td>
                <td class="cdm2"><a href="../../../FieldSyntax/DateTime.htm">Date 
		time</a>
                </td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">CollectionTime</td>
                <td class="cdm1">O.8.1.1</td>
                <td class="cdm2"><a href="../../../FieldSyntax/DateTime.htm">Date 
		time</a>
                </td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">ActionCode</td>
                <td class="cdm1">O.12.1.1</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">Type</td>
                <td class="cdm1">O.16.1.1</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">Physician</td>
                <td class="cdm1">O.17.1.1</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">Instrument</td>
                <td class="cdm1">O.25.1.1</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">InstrumentDepartment</td>
                <td class="cdm1">O.25.1.3</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">ReportTypes</td>
                <td class="cdm1">O.26.1.1</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">LocationWard</td>
                <td class="cdm1">O.28.1.1</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">HospitalService</td>
                <td class="cdm1">O.30.1.1</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">Result</td>
                <td class="cdm1">Operator</td>
                <td class="cdm1">R.11.1.1</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">Verifier</td>
                <td class="cdm1">R.11.1.2</td>
                <td class="cdm2">&#160;</td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">TimeStarted</td>
                <td class="cdm1">R.12.1.1</td>
                <td class="cdm2"><a href="../../../FieldSyntax/DateTime.htm">Date 
		time</a>
                </td>
            </tr>
            <tr>
                <td class="cdm1">&#160;</td>
                <td class="cdm1">TimeCompleted</td>
                <td class="cdm1">R.13.1.1</td>
                <td class="cdm2"><a href="../../../FieldSyntax/DateTime.htm">Date 
		time</a>
                </td>
            </tr>
        </table>
        <h3>Example</h3>
        <p>The following MISPL example shows how these fields can be accessed:</p>
        <p>---<br /><br />
STRING MessageList;<br />
STRING PatientList;<br />
STRING SpecimenList;<br />
STRING ResultList;<br />
STRING Data;<br /><br />
MessageList := ExtractTag("Message", .InternalComment, "\");<br /><br />
PatientList := ExtractTag("Patient", .InternalComment, "\");<br /><br />
SpecimenList:= ExtractTag("Specimen", .InternalComment, "\");<br /><br />
ResultList:= ExtractTag("Result", .InternalComment, "\");<br /><br />
Data:=<br />
&#160;&#160;&#160; "[ " +<br />
&#160;&#160;&#160; "M.Sender:" + ifknownstring(ExtractTag("Sender", MessageList, 
"\")) + ", " +<br />
&#160;&#160;&#160; "M.Time:" + ifknownstring(ExtractTag("Time", MessageList, 
"\")) + ", " +<br />
&#160;&#160;&#160; "P.Id1:" + ifknownstring(ExtractTag("Id1", PatientList, "\")) 
+ ", " +<br />
&#160;&#160;&#160; "P.Physician:" + ifknownstring(ExtractTag("Physician", 
PatientList, "\")) + ", " +<br />
&#160;&#160;&#160; "S.Instrument:" + ifknownstring(ExtractTag("Instrument", 
SpecimenList, "\")) + ", " +<br />
&#160;&#160;&#160; "S.Physician:" + ifknownstring(ExtractTag("Physician", 
SpecimenList, "\")) + ", " +<br />
&#160;&#160;&#160; "R.Operator:" + ifknownstring(ExtractTag("Operator", 
ResultList, "\")) + ", " +<br />
&#160;&#160;&#160; "]";<br />
�</p>
        <p>---<br />
&#160;</p>
    </body>
</html>