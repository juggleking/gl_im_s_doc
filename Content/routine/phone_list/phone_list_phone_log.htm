<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-gb" xml:lang="en-gb" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Routine|Phone list" data-mc-priority="0" data-mc-time-estimate="0" data-mc-id="v55\english\tutorials\extra tools\phone program\phonelist_04.htm">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>Phone: log</title>
        <link href="../../Resources/StyleSheets/shared.css" rel="stylesheet" type="text/css" />
        <script src="../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" defer="defer" type="text/javascript">
        </script>
    </head>
    <body>
        <h1>Phone list -  Phone log</h1>
        <p>Contents: <a href="#Phone%20log%20consultation">Phone log consultation</a> - <a href="#Printing%20the%20phone%20log%20on%20reports">Printing the phone log on reports</a></p>
        <h2><a name="Phone log consultation"></a>Phone log consultation</h2>
        <h3>General phone log query</h3>
        <p>The phone log query is available from the main menu via <span class="ui_element">Start</span> -&gt; <span class="ui_element">Routine</span> -&gt; <span class="ui_element">Query Phone Logs</span>.</p>
        <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="phone_list_phone_log_query.png"><img class="MCPopupThumbnail img imgLargeImage" data-mc-width="540" data-mc-height="176" src="phone_list_phone_log_query_thumb_0_120.png" tabindex="" /></a>
        </p>
        <p class="fieldlabel">Department</p>
        <div class="indented">Allows viewing only logs of orders issued by the specified department.</div>
        <p class="fieldlabel">Classification</p>
        <div class="indented">Only shows logs related to properties from this classification. This is checked via the specimen, or the order if the specimen is ambiguous. Using the order reference may lead to confusing situations: phone logs may be selected because their order contains a property belonging to the classification, although the property itself was not phoned. It was a conscious decision not to maintain the phone log for each individual result to avoid excessive storage capacity requirements.</div>
        <p class="fieldlabel">Phoned since - until</p>
        <div class="indented">Allows selecting only logs from the specified period.</div>
        <p class="fieldlabel">Only phoned</p>
        <div class="indented">Allows to show/hide unsuccessful phone attempts. By default only successful communications are shown. When deselected, all logs are displayed, together with a (colored) status indicator. Green means phoned, red not phoned.</div>
        <h3>Phone log of a specific order or object</h3>
        <p>The Order and Object menu functions <span class="ui_element">Phone log</span> allow viewing the phone logs of a specific order or object.</p>
        <h3>Phone log browser</h3>
        <p>The phone logs are sorted by date and time, most recent first.</p>
        <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="phone_list_phone_log_browser.png"><img class="MCPopupThumbnail img imgLargeImage" data-mc-width="1219" data-mc-height="343" src="phone_list_phone_log_browser_thumb_0_120.png" tabindex="" /></a>
        </p>
        <p class="fieldlabel">Status indication</p>
        <div class="indented">Only visible if the <span class="ui_element">Only phoned</span> option (described above) is deselected . Green means "phoned", red means "not phoned".</div>
        <p class="fieldlabel">Order</p>
        <div class="indented">Not shown when the browser was opened through Order menu function.</div>
        <p class="fieldlabel">Externalization</p>
        <div class="indented">Not shown when the browser was opened through Order menu function.</div>
        <p class="fieldlabel">Material</p>
        <div class="indented">Determined via the specimen reference, so only if unambiguous.</div>
        <p class="fieldlabel">Time</p>
        <p class="fieldlabel">User</p>
        <p class="fieldlabel">Contact</p>
        <p class="fieldlabel">Results</p>
        <p class="fieldlabel">Comment</p>
        <p class="fieldlabel">Search for</p>
        <div class="indented">Allows filtering only those logs containing the specified keywords (in their comment).</div>
        <p class="fieldlabel">Options</p>
        <div class="indented">Click this button to open the <a href="#Phone%20log%20consultation">Phone log query</a>.</div>
        <h3>Phone log details</h3>
        <p>Double-click of hit F6 to zoom in a given phone log entry:</p>
        <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="phone_list_phone_log_entry.png"><img class="MCPopupThumbnail img imgLargeImage" data-mc-width="483" data-mc-height="506" src="phone_list_phone_log_entry_thumb_0_120.png" tabindex="" /></a>
        </p>
        <p>Draw special attention to the <span class="ui_element">Specimen</span> field. This field will only get a value when all results that are phoned together refer a common specimen.</p>
        <h2><a name="Printing the phone log on reports"></a>Printing the phone log on reports</h2>
        <h3>Introduction</h3>
        <p>For customers who put the phone log (or part of it) on reports, two MISPL functions allow accessing the PhoneLog table.</p>
        <h3>Order.GetPhoneLog()</h3>
        <p><b style="font-weight: bold;">Synopsis</b>:&#160;&#160;PhoneLogId GetPhoneLog(PhoneLogId <span style="color: #008000;">Previous</span>, Logical <span style="color: #008000;">Phoned</span>);</p>
        <div class="indented">
            <p><span style="color: #008000;">Previous</span>:&#160;&#160;Previous phone log that was fetched. When unknown, the most recent one will be returned. Use this parameter to loop through all log entries:</p>
            <div class="indented"><pre>
PhoneLog CurrentLog;
CurrentLog := .GetPhoneLog(?, YES);
            WHILE CurrentLog &lt;&gt; ?
            DO
                /* Processing code */
                .CurrentLog := GetPhoneLog(CurrentLog, YES);
            DONE;
</pre>
            </div>
            <p><span style="color: #008000;">Phoned</span>:<br /><br />TRUE = only return successful communications<br />FALSE = only return failed communications<br />? = don't care, return both</p>
        </div>
        <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a style="font-weight: bold; color: #003366" href="javascript:void(0)" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Example</a></span>
            <div class="MCDropDownBody dropDownBody">
                <div class="text_box_examples">
                    <p><span style="color: #003366; font-weight: bold;">Example</span>
                    </p>
                    <p>Example of a trailer text defined in the report template:</p>
                    <blockquote>{:<br></br>PhoneLog CurrentLog;<br></br>string phonelist;
<p>CurrentLog := .Order.GetPhoneLog(?,YES);</p><p>phonelist := "";</p><p>WHILE CurrentLog &lt;&gt; ?<br></br>DO&#160;&#160;&#160;<br></br>&#160;<br></br>&#160;&#160;phonelist := phonelist + "Phoned results: " + ifknownstring(CurrentLog.ResultList);<br></br>&#160;&#160;phonelist := phonelist + chr(10) + "Phoned to: " + ifknownstring(CurrentLog.Contact) ;<br></br>&#160;&#160;phonelist := phonelist + chr(10) + "Comment: " + IfKnownSTring(CurrentLog.Comment) + chr(10);<br></br>&#160;&#160;CurrentLog := .Order.GetPhoneLog(CurrentLog, YES);<br></br><br></br>DONE;</p><p>RETURN phonelist;}</p></blockquote>
                </div>
            </div>
        </div>
        <h3>Object.GetPhoneLog</h3>
        <p>The Object.GetPhoneLog MISPL function allows retrieving the phone log records of an object in the same way as it is possible to retrieve the phone log records from an order via the Order.GetPhoneLog function.</p>
        <p><b style="font-weight: bold;">Synopsis</b>:&#160;&#160;PhoneLogId GetPhoneLog(PhoneLogId <span style="color: #008000;">Previous</span>, Logical <span style="color: #008000;">Phoned</span>);</p>
        <div class="indented">
            <p><span style="color: #008000;">Previous</span>:&#160;&#160;Previous phone log that was fetched. When unknown, the most recent one will be returned. Use this parameter to loop through all log entries:</p>
            <div class="indented"><pre>
PhoneLog CurrentLog;
CurrentLog := .GetPhoneLog(?, YES);
            WHILE CurrentLog &lt;&gt; ?
            DO
                /* Processing code */
                .CurrentLog := GetPhoneLog(CurrentLog, YES);
            DONE;
</pre>
            </div>
            <p><span style="color: #008000;">Phoned</span>:<br /><br />TRUE = only return successful communications<br />FALSE = only return failed communications<br />? = don't care, return both</p>
        </div>
    </body>
</html>