<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-gb" xml:lang="en-gb" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" xmlns="" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>Release notes 9.9.0 - Function to merge patients by common PIN assigned by different providers (GLIMS-11279)</title>
        <link href="../../Resources/TableStyles/Alternating.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <script type="text/javascript" src="../../Resources/hyperlink_target.js">
        </script>
        <link href="../../Resources/StyleSheets/shared.css" rel="stylesheet" type="text/css" />
        <script src="../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" defer="defer" type="text/javascript">
        </script>
    </head>
    <body>
        <h1><a name="aanchor1499"></a>
            <MadCap:concept term="Release notes" />
            <MadCap:conditionalText data-mc-conditions="Primary.10_webhelp_only">Release notes 9.9.0 - </MadCap:conditionalText>Function to merge patients by common PIN assigned by different providers (GLIMS-11279)</h1>
        <h2>Introduction</h2>
        <p>For certain sites working with a specific environment, a new backwards compatible functionality has been introduced to merge patients based on a common PIN, assigned by different PIN providers.</p>
        <p>This new function <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Merge double persons by identification</span> can be accessed from <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">System management</span> &gt; <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Database</span>.</p>
        <h2>Description</h2>
        <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="GLIMS-11279.png"><img class="MCPopupThumbnail img imgLargeImage" data-mc-width="483" data-mc-height="308" src="GLIMS-11279_thumb_0_120.png" tabindex="" /></a>
        </p>
        <table style="border-collapse: separate;border-collapse: separate;width: 100%;mc-table-style: url('../../Resources/TableStyles/Alternating.css');" class="TableStyle-Alternating" cellspacing="0" xmlns="http://www.w3.org/1999/xhtml">
            <col style="width: 271px;" class="TableStyle-Alternating-Column-Column1" />
            <col style="width: 174px;" class="TableStyle-Alternating-Column-Column1" />
            <col style="width: 575px;" class="TableStyle-Alternating-Column-Column1" />
            <thead>
                <tr class="TableStyle-Alternating-Head-Header1">
                    <th class="TableStyle-Alternating-HeadE-Column1-Header1">Field</th>
                    <th class="TableStyle-Alternating-HeadE-Column1-Header1">Data type</th>
                    <th class="TableStyle-Alternating-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-Alternating-Body-Body1">
                    <td class="TableStyle-Alternating-BodyE-Column1-Body1">PIN provider</td>
                    <td class="TableStyle-Alternating-BodyE-Column1-Body1">Reference to correspondent</td>
                    <td class="TableStyle-Alternating-BodyD-Column1-Body1">After merging, a PIN by this provider will be assigned to the final patient.</td>
                </tr>
                <tr class="TableStyle-Alternating-Body-Body2">
                    <td class="TableStyle-Alternating-BodyE-Column1-Body2">Skip persons with PIN by specified provider</td>
                    <td class="TableStyle-Alternating-BodyE-Column1-Body2">Logical</td>
                    <td class="TableStyle-Alternating-BodyD-Column1-Body2">If set, then persons with PIN assigned by specified provider will be skipped.</td>
                </tr>
                <tr class="TableStyle-Alternating-Body-Body1">
                    <td class="TableStyle-Alternating-BodyE-Column1-Body1">Identification code from</td>
                    <td class="TableStyle-Alternating-BodyE-Column1-Body1">String</td>
                    <td class="TableStyle-Alternating-BodyD-Column1-Body1">If set, then only identifications with code higher than the specified code will be selected.</td>
                </tr>
                <tr class="TableStyle-Alternating-Body-Body2">
                    <td class="TableStyle-Alternating-BodyE-Column1-Body2">Minimal creation date</td>
                    <td class="TableStyle-Alternating-BodyE-Column1-Body2">Extended date</td>
                    <td class="TableStyle-Alternating-BodyD-Column1-Body2">If set, only identifications created from this date will be selected.</td>
                </tr>
                <tr class="TableStyle-Alternating-Body-Body1">
                    <td class="TableStyle-Alternating-BodyE-Column1-Body1">Maximal creation date</td>
                    <td class="TableStyle-Alternating-BodyE-Column1-Body1">Extended date</td>
                    <td class="TableStyle-Alternating-BodyD-Column1-Body1">If set, only identifications created until this date will be selected.</td>
                </tr>
                <tr class="TableStyle-Alternating-Body-Body2">
                    <td class="TableStyle-Alternating-BodyE-Column1-Body2">Person creation user</td>
                    <td class="TableStyle-Alternating-BodyE-Column1-Body2">Reference to sc_User</td>
                    <td class="TableStyle-Alternating-BodyD-Column1-Body2">If set, only persons created by this user will be selected.</td>
                </tr>
                <tr class="TableStyle-Alternating-Body-Body1">
                    <td class="TableStyle-Alternating-BodyE-Column1-Body1">Has open encounters</td>
                    <td class="TableStyle-Alternating-BodyE-Column1-Body1">Logical</td>
                    <td class="TableStyle-Alternating-BodyD-Column1-Body1">If set, only persons with open (yes) or no (no)  encounters will be selected.</td>
                </tr>
                <tr class="TableStyle-Alternating-Body-Body2" style="height: 22px;">
                    <td class="TableStyle-Alternating-BodyE-Column1-Body2">Has object</td>
                    <td class="TableStyle-Alternating-BodyE-Column1-Body2">Logical</td>
                    <td class="TableStyle-Alternating-BodyD-Column1-Body2">If set, only persons with (yes) or without (no) an object will be selected.</td>
                </tr>
                <tr class="TableStyle-Alternating-Body-Body1">
                    <td class="TableStyle-Alternating-BodyE-Column1-Body1">Target identification start date</td>
                    <td class="TableStyle-Alternating-BodyE-Column1-Body1">Extended date</td>
                    <td class="TableStyle-Alternating-BodyD-Column1-Body1">Start date for the final PIN, can be left blank for no start date.</td>
                </tr>
                <tr class="TableStyle-Alternating-Body-Body2">
                    <td class="TableStyle-Alternating-BodyB-Column1-Body2">Test mode</td>
                    <td class="TableStyle-Alternating-BodyB-Column1-Body2">Logical</td>
                    <td class="TableStyle-Alternating-BodyA-Column1-Body2">If set, then persons to be merged will be logged, but no database changes will be performed.</td>
                </tr>
            </tbody>
        </table>
        <h2>Procedure</h2>
        <p>The program first preselects duplicate identifications (with the same code).  For each person, the number of orders is counted. This phase is logged as "collecting candidate persons". After this pre-selection, the program loops through the candidate persons per code, starting with the person in possession of the most orders.</p>
        <p>If a duplicate person (same identification code) is found, further criteria for person identification are checked: <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Last name</span>, <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">First name</span>, <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Birth date</span>, <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Sex</span>, <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Address line 1</span>, <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Municipality name</span>, <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Postal code</span>, <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Country code</span>.</p>
        <p>Only if all the criteria match, the person records will be merged. Merging is done by the standard <a href="../../configuration/correspondents/persons_merge.htm" xmlns="http://www.w3.org/1999/xhtml">person merge functionality</a>.</p>
        <p>The final person record will get an identification code assigned by the specified provider with the start date <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Target identification start date</span>. The old code will be maintained, but the end date will be set to the merge execution date.</p>
        <h2>Logging</h2>
        <p>The program to merge patients by common PIN logs all actions to the screen (interactive) or to the <a href="../../configuration/generic/services/Services.htm#Service" xmlns="http://www.w3.org/1999/xhtml">service log</a>.</p>
        <p>It will also create two additional log files in the temporary session folder:</p>
        <ul>
            <li value="1">prsn_mrg.txt:	contains all patients (externalization) that match the criteria for merging (except the additional criteria set by the standard merge program) and will be merged, while not in test mode.</li>
            <li value="2">prsn_rej.txt:	contains all patients (externalization) that do not match the criteria for merging and will not be merged. </li>
        </ul>
        <div class="indented" xmlns="">
            <div class="text_box_notes" xmlns="http://www.w3.org/1999/xhtml">
                <p><span style="color: #616E14; font-weight: bold;">Note</span>
                </p>
                <p>The log file prsn_rej.txt also contains persons that cannot be merged due to other reasons.</p>
            </div>
        </div>
    </body>
</html>