<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-gb" xml:lang="en-gb" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" xmlns="" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>Release notes 9.8.0 - New functionality: product lot verification (GLIMS_STCK-00574)</title>
        <script type="text/javascript" src="../../Resources/hyperlink_target.js">
        </script>
        <link href="../../Resources/StyleSheets/shared.css" rel="stylesheet" type="text/css" />
        <script src="../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" defer="defer" type="text/javascript">
        </script>
    </head>
    <body>
        <h1><a name="aanchor890"></a>
            <MadCap:concept term="Release notes" />
            <MadCap:conditionalText data-mc-conditions="Primary.10_webhelp_only">Release notes 9.8.0 - </MadCap:conditionalText>New functionality: product lot verification (GLIMS_STCK-00574)</h1>
        <h2>Introduction</h2>
        <p>Stock management <a href="../../modules/stock_management/configuration/product_lots.htm" xmlns="http://www.w3.org/1999/xhtml">product lots</a> are implicitly used in other modules, such as <a href="../../modules/qc/index_qc.htm" xmlns="http://www.w3.org/1999/xhtml">QC</a>. In order to make sure that these lots are usable in these modules, it can be useful to add a verification step when products of these lots are checked in or checked out.</p>
        <h2>Configuration</h2>
        <h3><a name="Product5" xmlns="http://www.w3.org/1999/xhtml"></a>Product specifications</h3>
        <p xmlns="">If all the lots created on a given <a href="../../modules/stock_management/configuration/product_specifications.htm" xmlns="http://www.w3.org/1999/xhtml">product specification</a> need to be verified, activate   the option <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Requires lot verification</span> on the <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Storage</span> tab page of the <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Product specification</span> editor. By default, the <a href="#Needs" xmlns="http://www.w3.org/1999/xhtml">Needs verification</a> option of all the product lots of this specification will automatically be  activated.</p>
        <h3 xmlns="http://www.w3.org/1999/xhtml"><a name="Product6" xmlns="http://www.w3.org/1999/xhtml"></a>Product lot fields</h3>
        <p xmlns="">The <a href="../../modules/stock_management/configuration/product_lots.htm" xmlns="http://www.w3.org/1999/xhtml">product lot</a> editor contains new fields related to the verification:</p>
        <p xmlns=""><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="GLIMS_STCK-00574_product_lots_editor.png" xmlns="http://www.w3.org/1999/xhtml"><img class="MCPopupThumbnail img imgLargeImage" data-mc-width="571" data-mc-height="616" src="GLIMS_STCK-00574_product_lots_editor_thumb_0_120.png" tabindex="" /></a>
        </p>
        <p class="fieldlabel" xmlns="http://www.w3.org/1999/xhtml"><a name="Needs" xmlns="http://www.w3.org/1999/xhtml"></a>Needs verification</p>
        <div class="indented" xmlns="http://www.w3.org/1999/xhtml">The value of this field is inherited from the value of the <a href="#Product5" xmlns="http://www.w3.org/1999/xhtml">field</a> <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Requires lot verification</span> on the <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Storage</span> tab page of the <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Product specification</span> editor. It can however be changed at any time.</div>
        <p class="fieldlabel" xmlns="http://www.w3.org/1999/xhtml"><a name="Verified" xmlns="http://www.w3.org/1999/xhtml"></a>Verified - Verification user - Verification time - Verification comment</p>
        <div class="indented" xmlns="http://www.w3.org/1999/xhtml">These fields are automatically set / filled in or updated when the product lot is <a href="#Product2" xmlns="http://www.w3.org/1999/xhtml">(un)verified</a>.</div>
        <h3>Stock management general settings</h3>
        <p>Two optional fields have been added to the <a href="../../modules/stock_management/configuration/stock_management_general_options.htm" xmlns="http://www.w3.org/1999/xhtml">general settings</a> of the Stock management module: <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Check in trigger</span> and <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Check out trigger</span>. Both triggers are <a href="../../db/reference_guide/wprc.htm" xmlns="http://www.w3.org/1999/xhtml">w_Product</a>-based site functions executed upon <a href="#Product4" xmlns="http://www.w3.org/1999/xhtml">product check-in</a> and <a href="#Product3" xmlns="http://www.w3.org/1999/xhtml">check-out</a>, respectively.  The w_Product table is a temp table, which allows checking product data that are not yet stored in the database, such as the external id, expiration date and lot number.</p>
        <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="GLIMS_STCK-00574_triggers.png"><img class="MCPopupThumbnail img imgLargeImage" data-mc-width="606" data-mc-height="446" src="GLIMS_STCK-00574_triggers_thumb_0_120.png" tabindex="" /></a>
        </p>
        <div class="MCDropDown MCDropDown_Closed dropDown" xmlns=""><span class="MCDropDownHead dropDownHead"><a style="font-weight: bold; color: #003366" href="javascript:void(0)" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Examples</a></span>
            <div class="MCDropDownBody dropDownBody">
                <div class="text_box_examples" xmlns="http://www.w3.org/1999/xhtml">
                    <p><span style="color: #003366; font-weight: bold;">Examples</span>
                    </p>
                    <p>1. The following check-in trigger allows displaying the message "New product lot from stock management" when checking in a product:</p><pre>message("Trigger " + .Specification.Name);</pre><pre xml:space="preserve">IF .Lot = ?</pre><pre xml:space="preserve">THEN message("New product lot from stock management");</pre><pre>ENDIF;</pre><pre xml:space="preserve">RETURN TRUE;</pre><pre xml:space="preserve">&#160;</pre>
                    <p>2. The following check-out trigger allows displaying the message "The lot to which this product belongs has not been verified":</p><pre>message("check out trigger");</pre><pre xml:space="preserve">IF .Lot.NeedsVerification and .Lot.Verified = NO</pre><pre xml:space="preserve">THEN message("The lot to which this product belongs has not been verified");</pre><pre xml:space="preserve">RETURN&#160;FALSE;</pre><pre xmlns="http://www.w3.org/1999/xhtml">ENDIF;</pre><pre xml:space="preserve" xmlns="http://www.w3.org/1999/xhtml">RETURN TRUE;</pre>
                </div>
            </div>
        </div>
        <h2>Routine</h2>
        <h3 xmlns="http://www.w3.org/1999/xhtml">Product lot query and browser</h3>
        <p xmlns="http://www.w3.org/1999/xhtml">The new <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Product lot</span> query screen and browser allow looking up product lots that need verification. They can be opened in several ways:</p>
        <ul xmlns="http://www.w3.org/1999/xhtml">
            <li value="1">via <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Start</span> -&gt;&#160;<span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Stock management</span>,</li>
            <li value="2">using the contextual menu/ribbon item <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Lots</span> on a selected product specification,</li>
            <li value="3">by double-clicking in the <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Lot</span> field of the <a href="#Product" xmlns="http://www.w3.org/1999/xhtml">Product query</a>.</li>
        </ul>
        <p xmlns=""><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="GLIMS_STCK-00574_product_lots_browser.png" xmlns="http://www.w3.org/1999/xhtml"><img class="MCPopupThumbnail img imgLargeImage" data-mc-width="987" data-mc-height="544" src="GLIMS_STCK-00574_product_lots_browser_thumb_0_120.png" tabindex="" /></a>
        </p>
        <h3 xmlns="http://www.w3.org/1999/xhtml"><a name="Product2" xmlns="http://www.w3.org/1999/xhtml"></a>Product lot (un)verification</h3>
        <h4 xmlns="http://www.w3.org/1999/xhtml">Verification</h4>
        <p xmlns="http://www.w3.org/1999/xhtml">In order to verify a product lot, select it and use the contextual menu/ribbon item <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Verify</span>.&#160;Then enter a comment.</p>
        <p xmlns="http://www.w3.org/1999/xhtml"><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="GLIMS_STCK-00574_product_lots_verify.png"><img class="MCPopupThumbnail img imgLargeImage" data-mc-width="818" data-mc-height="272" src="GLIMS_STCK-00574_product_lots_verify_thumb_0_120.png" tabindex="" /></a>
        </p>
        <p xmlns="http://www.w3.org/1999/xhtml">When clicking <span class="ui_element">OK</span> in the <span class="ui_element">Verify</span> screen,</p>
        <ul xmlns="http://www.w3.org/1999/xhtml">
            <li value="1">the <a href="#Verified" xmlns="http://www.w3.org/1999/xhtml">Verified</a> flag of the product lot is set,</li>
            <li value="2">the <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Verification user</span>, <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Verification time</span> and <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Verification comment</span> <a href="#Verified" xmlns="http://www.w3.org/1999/xhtml">fields</a> are filled in,</li>
            <li value="3">a log entry is added to a <a href="../../application_management/logging/logging.htm" xmlns="http://www.w3.org/1999/xhtml">log</a> of type <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Product lot verification</span>.</li>
        </ul>
        <h4 xmlns="http://www.w3.org/1999/xhtml">Unverification</h4>
        <p xmlns="http://www.w3.org/1999/xhtml">The product lot verification can be undone by selecting the product lot and then clicking on the contextual menu/ribbon item <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Unverify</span>. When undoing a verification, the user is asked to provide a reason.</p>
        <p xmlns=""><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="GLIMS_STCK-00574_product_lots_unverify.png" xmlns="http://www.w3.org/1999/xhtml"><img class="MCPopupThumbnail img imgLargeImage" data-mc-width="738" data-mc-height="238" src="GLIMS_STCK-00574_product_lots_unverify_thumb_0_120.png" tabindex="" /></a>
        </p>
        <p xmlns="http://www.w3.org/1999/xhtml">When clicking <span class="ui_element">OK</span> in the <span class="ui_element">Undo verification</span> screen,</p>
        <ul xmlns="http://www.w3.org/1999/xhtml">
            <li xmlns="http://www.w3.org/1999/xhtml" value="1">the <a href="#Verified" xmlns="http://www.w3.org/1999/xhtml">Verified</a> flag of the product lot is deleted,</li>
            <li xmlns="http://www.w3.org/1999/xhtml" value="2">the <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Verification user</span>, <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Verification time</span> and <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Verification comment</span> <a href="#Verified" xmlns="http://www.w3.org/1999/xhtml">fields</a> are cleared,</li>
            <li xmlns="http://www.w3.org/1999/xhtml" value="3">a log entry is added to a <a href="../../application_management/logging/logging.htm" xmlns="http://www.w3.org/1999/xhtml">log</a> of type <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Product lot verification</span>. The log entry mentions the reason provided for the unverification.</li>
        </ul>
        <h3><a name="Product4" xmlns="http://www.w3.org/1999/xhtml"></a>Product check-in</h3>
        <p>When a product (or package) is <a href="../../modules/stock_management/routine/product_checkin.htm" xmlns="http://www.w3.org/1999/xhtml">checked in</a> (via barcode scanning or manual entry), the function indicated in the <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Check in trigger</span> field is executed. This makes it possible to block the check-in of products belonging to certain lots or to display warnings.</p>
        <h3><a name="Product3" xmlns="http://www.w3.org/1999/xhtml"></a>Product check-out</h3>
        <p>When a product (or package) is <a href="../../modules/stock_management/routine/product_checkout.htm" xmlns="http://www.w3.org/1999/xhtml">checked out</a>, the function indicated in the <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Check out trigger</span> field is executed. This makes it possible to block the check-out of products belonging to certain lots or to display warnings.</p>
        <p>Note that when</p>
        <ul>
            <li value="1">scanning a product (or a package) in the check-out screen, and</li>
            <li value="2">the product belongs to a lot on which the option <a href="#Product6" xmlns="http://www.w3.org/1999/xhtml">Needs verification</a> is activated, and</li>
            <li value="3">the <a href="#Verified" xmlns="http://www.w3.org/1999/xhtml">Verified</a> flag of the product lot is not set,</li>
        </ul>
        <p>a warning is automatically displayed and a reason must be provided for checking out this  product:</p>
        <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="GLIMS_STCK-00574_check_out_reason.png"><img class="MCPopupThumbnail img imgLargeImage" data-mc-width="952" data-mc-height="636" src="GLIMS_STCK-00574_check_out_reason_thumb_0_120.png" tabindex="" /></a>
        </p>
        <p>This reason is stored in the <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Comment</span> field of  all checked out products of this lot as well as in their logs. </p>
        <h2><a name="Product" xmlns="http://www.w3.org/1999/xhtml"></a>Product query and browser</h2>
        <p xmlns="">Additionally to the introduction of the product lot verification functionality, a <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Lot</span> field has been added to the <a href="../../modules/stock_management/tracing/products_query_browser.htm" xmlns="http://www.w3.org/1999/xhtml">Product query</a>. This allows looking up products of a specific lot:</p>
        <p xmlns=""><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="GLIMS_STCK-00574_product_query.png" xmlns="http://www.w3.org/1999/xhtml"><img class="MCPopupThumbnail img imgLargeImage" data-mc-width="973" data-mc-height="641" src="GLIMS_STCK-00574_product_query_thumb_0_120.png" tabindex="" /></a>
        </p>
    </body>
</html>