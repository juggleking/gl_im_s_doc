<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-gb" xml:lang="en-gb" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" xmlns="" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>Release notes 9.8.0 - New order identifier type and recalculation of specimen internal ids (GLIMS-08489)</title>
        <script type="text/javascript" src="../../Resources/hyperlink_target.js">
        </script>
        <link href="../../Resources/StyleSheets/shared.css" rel="stylesheet" type="text/css" />
        <script src="../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" defer="defer" type="text/javascript">
        </script>
    </head>
    <body>
        <h1><a name="aanchor1866"></a>
            <MadCap:concept term="Release notes" />
            <MadCap:conditionalText data-mc-conditions="Primary.10_webhelp_only">Release notes 9.8.0 - </MadCap:conditionalText>New order identifier type and recalculation of specimen internal ids (GLIMS-08489)</h1>
        <h2>Introduction</h2>
        <p>GLIMS already supports the use of the following order identifiers: Internal id, External id and Short id. This modification</p>
        <ul>
            <li value="1">introduces a <a href="#New" xmlns="http://www.w3.org/1999/xhtml">new identifier type</a>: Work id. Work ids are used in certain labs which need to process specimens though no corresponding order has been created yet.</li>
            <li value="2">makes it possible to <a href="#New2" xmlns="http://www.w3.org/1999/xhtml">recalculate</a> initial specimen internal ids on the basis of a work id specified during order entry.</li>
            <li value="3">makes it possible to <a href="#New3" xmlns="http://www.w3.org/1999/xhtml">process</a> orders by identifier.</li>
        </ul>
        <h2 xmlns="http://www.w3.org/1999/xhtml"><a name="New" xmlns="http://www.w3.org/1999/xhtml"></a>New order entry fields</h2>
        <p xmlns="http://www.w3.org/1999/xhtml">Two fields have been added to the <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Order</span> tab of the Order entry screen:</p>
        <p class="fieldlabel" xmlns="http://www.w3.org/1999/xhtml">Work id </p>
        <div class="indented" xmlns="http://www.w3.org/1999/xhtml">This field allows  entering a work id for the order.
When a work id is entered, an order identifier record of type <span class="ui_element">Work id</span> is saved in the database.<p xmlns="http://www.w3.org/1999/xhtml">The work id can be modified. If it is replaced by an empty string or "?", the work id record is deleted from the database. Modifications and deletions of work ids via the Order entry screen are logged in the Order log.</p></div>
        <p class="fieldlabel" xmlns="http://www.w3.org/1999/xhtml">Work id creation date</p>
        <div class="indented" xmlns="http://www.w3.org/1999/xhtml">This field is automatically filled in when a work id is entered for the order.</div>
        <h2 xmlns="http://www.w3.org/1999/xhtml">New browser</h2>
        <p xmlns="http://www.w3.org/1999/xhtml">A new browser, <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Orders by order identifier</span>, displays orders sorted by identifier. It is accessible via <span class="ui_element">Start</span> -&gt; <span class="ui_element">Routine</span> -&gt; <span class="ui_element">Orders</span>. A query window allows filtering on identifier prefix (similar to <a href="../../routine/orders/orders_query_browser.htm#Each" xmlns="http://www.w3.org/1999/xhtml">internal ID prefix</a>), identifier type, order creation date, or select a customized <a href="../../routine/orders/orders_query_browser.htm#Filter:" xmlns="http://www.w3.org/1999/xhtml">filter</a>.</p>
        <p xmlns="http://www.w3.org/1999/xhtml"><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="GLIMS-08489_order_identifier_query.png"><img class="MCPopupThumbnail img imgLargeImage" data-mc-width="557" data-mc-height="461" src="GLIMS-08489_order_identifier_query_thumb_0_120.png" tabindex="" /></a>
        </p>
        <h2><a name="New2" xmlns="http://www.w3.org/1999/xhtml"></a>New MISPL functions</h2>
        <p>Two new MISPL functions are available:</p>
        <ul>
            <li value="1">
                <p xmlns="http://www.w3.org/1999/xhtml">.GetIdentifier(IdentifierType)</p>
                <p>This Order-based MISPL function </p>
                <ul>
                    <li value="1">returns, for the chosen order, the order identifier of the specified type.</li>
                    <li xmlns="" value="2">is to be used in a MISPL program which calculates  specimen internal ids on the basis of work ids.</li>
                </ul>
                <div class="MCDropDown MCDropDown_Closed dropDown" xmlns=""><span class="MCDropDownHead dropDownHead"><a style="font-weight: bold; color: #003366" href="javascript:void(0)" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Example</a></span>
                    <div class="MCDropDownBody dropDownBody">
                        <div class="text_box_examples" xmlns="http://www.w3.org/1999/xhtml">
                            <p><span style="color: #003366; font-weight: bold;">Example</span>
                            </p>
                            <p>MISPL program for the calculation of specimen internal ids on the basis of work ids (i.e. <a href="../../db/reference_guide/orderidentifiertype.htm" xmlns="http://www.w3.org/1999/xhtml">OrderIdentifierType</a> "1"):</p><pre>String NewId;</pre><pre>Order TheOrder;</pre><pre> </pre><pre>NewId:=?;</pre><pre>TheOrder:=.LastRequest(?).Order;</pre><pre> </pre><pre>IF TheOrder &lt;&gt; ?</pre><pre xml:space="preserve">THEN</pre><pre xml:space="preserve">	NewId:=Identifier("Order",TheOrder.GetIdentifier(1).Identifier,5);</pre><pre xml:space="preserve">ENDIF;</pre><pre xml:space="preserve">RETURN NewId;</pre>
                        </div>
                    </div>
                </div>
            </li>
            <li xmlns="" value="2">
                <p xmlns="http://www.w3.org/1999/xhtml">.RecalculateSpecimen()</p>
                <p xmlns="http://www.w3.org/1999/xhtml">This Order-based MISPL function </p>
                <ul xmlns="http://www.w3.org/1999/xhtml">
                    <li value="1">triggers the recalculation of the  internal id of all the specimens linked to an order, using the site function created for the calculation of specimen internal ids (<a href="../../routine/specimens/specimens_ids.htm" xmlns="http://www.w3.org/1999/xhtml">SpecimenInternalId</a>).</li>
                    <li value="2">is useful when a work id is entered while specimens already have an internal id.</li>
                </ul>
                <p xmlns="http://www.w3.org/1999/xhtml">When the internal id of a specimen changes, this is logged on the specimen record.</p>
                <div class="text_box_notes" xmlns="http://www.w3.org/1999/xhtml">
                    <p><span style="color: #616E14; font-weight: bold;">Note</span>
                    </p>
                    <p>To limit the recalculation of specimen internal ids to specific workflows (microbiology workflows, for instance), insert the .RecalculateSpecimen function to the <a href="../../routine/orders/order_entry/options/order_entry_options_tab_main.htm" xmlns="http://www.w3.org/1999/xhtml">post-commit program</a>.</p>
                </div>
                <div class="text_box_warnings" xmlns="http://www.w3.org/1999/xhtml">
                    <p><span style="color: #ff0000; font-weight: bold;">Warning</span>
                    </p>
                    <p>This function should only be used for specific configurations and by MIPS staff only.</p>
                </div>
            </li>
        </ul>
        <h2><a name="New3" xmlns="http://www.w3.org/1999/xhtml"></a>Process orders by identifier</h2>
        <p>There is a new gp-site-based function: <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Process by identifier</span>. It is available under <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Start</span> and allows processing orders similarly to the function <a href="../../routine/specimens/specimens_process_by_number.htm" xmlns="http://www.w3.org/1999/xhtml">Process by number</a> for specimens. Note however that only one order id at a time should be entered in the <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Id</span> field. In other words, it is not possible to process several orders at once.</p>
        <p><span class="ui_element">Short id</span>, <span class="ui_element">Internal id</span> and <span class="ui_element">Work id</span> can be used as search criteria. In the <span class="ui_element">Seq. No.</span> column, you can indicate whether the identifiers entered in the <span class="ui_element" xmlns="http://www.w3.org/1999/xhtml">Id</span> field should first be look up within Short ids, then within Internal ids and finally within Work ids, for instance.</p>
        <p>The "process action" consists in either opening the order entry screen or executing a tool of your choice.</p>
        <p xmlns=""><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="GLIMS-08489_process_by_identifier.png" xmlns="http://www.w3.org/1999/xhtml"><img class="MCPopupThumbnail img imgLargeImage" data-mc-width="646" data-mc-height="383" src="GLIMS-08489_process_by_identifier_thumb_0_120.png" tabindex="" /></a>
        </p>
    </body>
</html>