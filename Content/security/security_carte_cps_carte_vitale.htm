<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-gb" xml:lang="en-gb" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Security|Users" data-mc-conditions="Primary.50_translation_exclude_for_GER" data-mc-file-tags="Status.CheckedContent,Status.Restyled" data-mc-priority="0" data-mc-time-estimate="0" data-mc-id="v55\english\tutorials\extra tools\CPS_Vitale\cps_vitale.htm">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <meta name="ProgId" content="FrontPage.Editor.Document" /><title>Authentication via Carte CPS - Carte Vitale</title>
        <link href="../Resources/StyleSheets/shared.css" rel="stylesheet" type="text/css" />
        <script src="../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/require.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/require.config.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/foundation.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js" defer="defer" type="text/javascript">
        </script>
    </head>
    <body>
        <h1><a name="kanchor327"></a>Authentication via Carte CPS - Carte Vitale</h1>
        <h2><a name="Carte CPS"></a>Carte CPS</h2>
        <p><a name="kanchor328"></a>The CPS card can be used to login into GLIMS. To enable this functionality, the <span class="ui_element">Authentication extension</span> option (<span class="ui_element">Start</span> -&gt; <span class="ui_element">System management</span> -&gt; <span class="ui_element">Customize</span> -&gt; <span class="ui_element">MATE</span>) should be set to <span class="ui_element">CPS</span>.&#160;</p>
        <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="security_cps_mate.png"><img class="MCPopupThumbnail img imgLargeImage" data-mc-width="621" data-mc-height="488" src="security_cps_mate_thumb_0_120.png" tabindex="" /></a>
        </p>
        <p><a name="kanchor329"></a>A user who wants to login via CPS, should have </p>
        <ul>
            <li value="1">a <span class="ui_element">Login name</span> that matches the <span class="ui_element">Numéro d'identification nationale</span>, or </li>
            <li value="2">a <span class="ui_element">Last name</span> and <span class="ui_element">First name</span> that matches the one on the card. </li>
        </ul>
        <p>When GLIMS is started, the CPS card will be read and after the user enters his code, the <span class="ui_element">Numéro d'identification nationale</span> of the inserted card will be compared with the login names in GLIMS. If a match is found, the user is logged in.</p>
        <div class="text_box_notes">
            <p><span style="color: #616E14; font-weight: bold;">Notes</span>
            </p>
            <ul>
                <li value="1">When the CPS card is scanned, the contents will be updated in the <span class="ui_element">User</span> record.</li>
                <li value="2">When the GLIMS session is terminated, the CPS card has to be removed, else GLIMS will see that the card is still available and automatically re-login the current user.</li>
            </ul>
        </div>
        <h2><a name="Carte Vitale"></a>Carte Vitale</h2>
        <h3>Introduction</h3>
        <p>The <span class="ui_element">Carte Vitale</span> can be used to scan person data. In GLIMS, this can be used in </p>
        <ul>
            <li value="1"><a href="../routine/orders/order_entry/index_order_entry.htm">order entry</a>
            </li>
            <li value="2"><a href="../routine/consultation/consultation_order_consultation.htm">order consultation </a>
            </li>
        </ul>
        <h3>Activation</h3>
        <p>To enable this functionality, the <span class="ui_element">Person data reader</span> option (<span class="ui_element">Start</span> -&gt; <span class="ui_element">System management</span> -&gt; <span class="ui_element">Customize</span> -&gt; <span class="ui_element">GLIMS</span> -&gt; <span class="ui_element">General</span>) should be set to <span class="ui_element">Carte Vitale</span>.</p>
        <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="security_carte_vitale_activation.png"><img class="MCPopupThumbnail img imgLargeImage" data-mc-width="759" data-mc-height="673" src="security_carte_vitale_activation_thumb_0_120.png" tabindex="" /></a>
        </p>
        <p class="fieldlabel">Reading the card</p>
        <div class="indented">
            <p>In most GLIMS screens where a person can be entered (e.g. order entry), <span class="ui_element">press F8</span> in one of the <span class="ui_element">Person</span> fields to start reading the card.</p>
            <div class="text_box_notes">
                <p><span style="color: #616E14; font-weight: bold;">Note</span>
                </p>
                <ul>
                    <li value="1">If multiple persons are present on the card, the user is asked to select the correct person. The data of the selected person will be inserted into the screen. </li>
                    <li value="2">If the person does not yet exist in GLIMS, he/she will be created.&#160;</li>
                </ul>
            </div>
        </div>
        <p class="fieldlabel">Processing data from the card</p>
        <div class="indented">
            <p class="fieldlabel">Unknown patient</p>
            <div class="indented">
                <p>A Carte Vitale scan will automatically create the patient and its insurance information in GLIMS (Matriculation number, Caisse, Mutuelle, Policy).&#160;</p>
            </div>
            <p class="fieldlabel">Existing patient</p>
            <div class="indented">
                <p>Existing persons in GLIMS are detected by matching last name + first name + birth date or <span class="ui_element">Numéro matricule nationale</span>&#160;&#160;(=Payment agreement matriculation number).&#160;&#160;The raw insurance contents will be stored (hidden) in the payment agreement record.</p>
                <p>If the Carte Vitale contains a <span class="ui_element">Mutuelle</span>, then a 3rd payer agreement (tiers payant)&#160;&#160;for the <span class="ui_element">Organisme complémentaire</span> will be added automatically.</p>
            </div>
            <p class="fieldlabel">Payment agreements</p>
            <div class="indented">
                <p>If payment agreements are created when reading a Carte Vitale card, the other payment agreements OF THE SAME POLICY (AMO, AMC and same person) are&#160;&#160;automatically closed (by setting their end date to today-1).</p>
                <p>Following insurance data are retrieved from the Carte Vitale (record type 4 &amp; 5):</p>
                <ul>
                    <li value="1"><span class="ui_element">Numero national d'immatriculation</span> -&gt; stored in the PaymentAgreement.MatriculationNumber</li>
                    <li value="2"><span class="ui_element">Code du régime</span> + <span class="ui_element">Caisse gestionnaire</span> + <span class="ui_element">Centre gestionnaire</span> -&gt; together these values determine the 'organisme obligatoire' which is stored in the Payment agreement's Fund.&#160;</li>
                    <li value="3"><span class="ui_element">Qualite (assure,Ascendant,...</span>) -&gt; see PaymentAgreement.Relation.&#160;&#160;If necessary, the program will first create a holder payment agreement.</li>
                    <li value="4"><span class="ui_element">Identification mutuelle</span> -&gt; PaymentAgreement(2).Fund.&#160;</li>
                    <li value="5"><span class="ui_element">Code ALD 'Affection Longue Duree'</span> -&gt; Object attribute 'ALD' history</li>
                    <li value="6"><span class="ui_element">Indicateur d'ouverture des droits</span>, <span class="ui_element">Code couverture</span> et <span class="ui_element">Garanties effectives</span> -&gt; stored in the payment agreement.&#160;</li>
                </ul>
                <p>Fund and Policy names must already be known in GLIMS.</p>
            </div>
        </div>
        <div class="text_box_notes">
            <p><span style="color: #616E14; font-weight: bold;">Note</span>
            </p>
            <ul>
                <li value="1">The Carte Vitale does not contain the person's sex, so this needs to be entered manually.&#160;</li>
            </ul>
        </div>
        <h3>Installation</h3>
        <p>The GLIMS installshield program will copy a file <span class="ui_element">VITALE.ZIP</span> in the <span class="ui_element">Windows/system32</span> directory and decompress it.&#160;&#160;&#160;</p>
        <p>GLIMS uses the Sesam Vitale files version 1.40. For more information see <a title="https://diffusion.sesam-vitale.fr/login.asp" target="_blank" href="https://diffusion.sesam-vitale.fr/login.asp" style="text-decoration: underline;" alt="https://diffusion.sesam-vitale.fr/login.asp">https://diffusion.sesam-vitale.fr/login.asp</a>.&#160;&#160;The file containing the installation manual is named "manuel d'installation(fsv-mi-001pack_fsv1.40doc_inst-fra-jui_06).pdf".</p>
        <div class="text_box_warnings">
            <p><span style="color: #ff0000; font-weight: bold;">Warning</span>
            </p>
            <p>Only install the Carte Vitale components on PC's that actually have a card reader attached to them, else you will get an error message saying that the card could not be read !</p>
        </div>
        <p class="fieldlabel">Check list</p>
        <ol>
            <li value="1">One needs a card reader with preloaded system suitable for sesam-vitale cards and with a serial port (COM) connection.</li>
            <li value="2">Install the sesam-vitale files version 1.40: when installing or upgrading GLIMS, do not forget to enable the component <span class="ui_element">Carte Vitale</span>.</li>
            <li value="3">Configuration file galls.ini&#160;&#160;(also in dir %WINDIR):<ol><li value="1">Specify the port number (typical 1)</li><li value="2">Make sure that the "NomLab" values are exactly "CPS", "Vitale" [and LOG_SV]<br /></li></ol></li>
            <li value="4">Sesam-Vitale also provides a simulation program</li>
            <li value="5">For thin clients (Citrix, TSE), you will need additional software to pass the serial port data (e.g. Virtual Port).&#160;&#160;One galls.ini file is used per user.&#160;&#160;You must also copy the "GALSS.INI" file in the directory C:\Documents and Settings\&lt;UserLogin&gt;\WINDOWS</li>
            <li value="6">Unexpected errors received from the card reader functions are returned by Glims to the screen.&#160;&#160;Codes retour (from ssv-mp-003api_ssv_4.05doc_prog-fra-jui_06.pdf: Annexe A).</li>
        </ol>
        <h3><span lang="EN-AU">Initialization and verification of exoneration code during order entry</span>
        </h3>
        <p>When selecting an object in the order entry screen, GLIMS will automatically try to enter the exoneration code in the <span class="ui_element">FS</span> tab page.&#160;&#160;This exoneration code can be retrieved from the patient's Carte Vitale and stored in the patient's payment agreement.</p>
        <p>1. If the <span class="ui_element">Couverture</span> has been read from the <span class="ui_element">Carte Vitale</span>, the exoneration code will be determined as follows:</p>
        <ul>
            <li value="1">
                <p>'4 ALD' if the ALD code was 1,2,3 and the answer to the question "soins en rapport avec ALD?" is YES.
                </p>
            </li>
            <li value="2">
                <p>'5 CAS' if the "Code situation" triggers this exoneration (0101,0102,..)
                </p>
            </li>
            <li value="3">
                <p>'6 service sncf' if the "Code situation" can trigger this exoneration (0401)
                </p>
            </li>
            <li value="4">
                <p>'9 FSV' if the "code situation" triggers this exoneration (0104,0204,...)
                </p>
            </li>
            <li value="5">
                <p>'0 PAS' if the answer to the question 'en soins avec ALD' was NO,&#160;else default value "?" is used
                </p>
            </li>
        </ul>
        <p>2. If no data from the <span class="ui_element">Carte Vitale</span> is known in Glims:
        </p>
        <ul>
            <li value="1">
                <p>'4 ALD' when the object attribute ALD is active for the patient and the order receipt time and the answer to the question&#160;"soins en rapport avec ALD?" is YES.
                </p>
            </li>
            <li value="2">
                <p>'5 CAS, 6 Regime, 9 FSV' when the previous order had one of these values.
                </p>
            </li>
            <li value="3">
                <p>'0 PAS' if the answer to the question 'en soins avec ALD' was NO, else default value "?" is used
                </p>
            </li>
        </ul>
        <p>The value of the order entry field <span class="ui_element">Exoneration code</span> is validated against the Carte vitale information whenever the field is left (even if the value was not changed.&#160;&#160;When selecting exoneration codes 4, 5, 6 or 9 that are incompatible with the 'Code ALD' and 'Code situation', a warning is issued and the user needs to confirm the value.        </p>
        <div class="text_box_notes">
            <p><span style="color: #616E14; font-weight: bold;">Note</span>
            </p>
            <p>Note that this initialization and verification mechanism is only applied when the Specific site option <span class="ui_element">Person data reader</span> is set to <span class="ui_element">Carte Vitale</span>.
</p>
        </div>
        <p><![CDATA[        ]]></p>
    </body>
</html>