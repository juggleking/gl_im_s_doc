<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-gb" xml:lang="en-gb" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="" data-mc-file-tags="Status.CheckedContent,Status.Restyled" data-mc-priority="0" data-mc-time-estimate="0" data-mc-id="v55\english\mispl-text\independent mispl functions\function_billing.htm">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>Billing functions</title>
        <link href="../../../Resources/StyleSheets/shared.css" rel="stylesheet" type="text/css" />
        <script src="../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/foundation.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" defer="defer" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js" defer="defer" type="text/javascript">
        </script>
    </head>
    <body>
        <h1><a name="Top" id="Top"></a>Billing functions</h1>
        <table cellspacing="0" width="100%">
            <tr>
                <td style="vertical-align: top;width: 33%;padding-left: 0px;padding-top: 0px;padding-right: 0px;padding-bottom: 0px;">
                    <ul>
                        <li value="1"><a href="#AllowedAbrechnungsGebietValues">AllowedAbrechnungsGebietValues</a>
                        </li>
                        <li value="2"><a href="#AllowedKTABValues">AllowedKTABValues</a>
                        </li>
                        <li value="3"><a href="#AllowedScheinuntergruppeValues">AllowedScheinuntergruppeValues</a>
                        </li>
                        <li value="4"><a href="#EncodeXDTPolicyName">EncodeXDTPolicyName</a>
                        </li>
                        <li value="5"><a href="#EuroToLocal">EuroToLocal</a>
                        </li>
                        <li value="6"><a href="#FrenchCleType12">FrenchCleType12</a>
                        </li>
                        <li value="7"><a href="#GetAbrechnungsArt">GetAbrechnungsArt</a>
                        </li>
                        <li value="8"><a href="#GetExecutingLab">GetExecutingLab</a>
                        </li>
                        <li value="9"><a href="#GetFundId">GetFundId</a>
                        </li>
                    </ul>
                </td>
                <td style="vertical-align: top;width: 33%;padding-left: 0px;padding-top: 0px;padding-right: 0px;padding-bottom: 0px;">
                    <ul>
                        <li value="1"><a href="#GetInvoiceId">GetInvoiceId</a>
                        </li>
                        <li value="2"><a href="#GetInvoiceSummaryId">GetInvoiceSummaryId</a>
                        </li>
                        <li value="3"><a href="#GetPolicyNameId">GetPolicyNameId</a>
                        </li>
                        <li value="4"><a href="#GetVertragsarztId">GetVertragsarztId</a>
                        </li>
                        <li value="5"><a href="#LargeModulo">LargeModulo</a>
                        </li>
                        <li value="6"><a href="#LocalToEuro">LocalToEuro</a>
                        </li>
                        <li value="7"><a href="#Modulus11">&#160;Modulus11</a>
                        </li>
                        <li value="8"><a href="#PaymentAgreements">PaymentAgreements</a>
                        </li>
                    </ul>
                </td>
                <td style="vertical-align: top;width: 34%;padding-left: 0px;padding-top: 0px;padding-right: 0px;padding-bottom: 0px;">
                    <ul>
                        <li value="1"><a href="#StringToOGM">StringToOGM</a>
                        </li>
                        <li value="2"><a href="#TariffingData">TariffingData</a>
                        </li>
                        <li value="3"><a href="#ToEuro">ToEuro</a>
                        </li>
                        <li value="4"><a href="#ToLocal">ToLocal</a>
                        </li>
                        <li value="5"><a href="#WeighedModulus">WeighedModulus</a>
                        </li>
                        <li value="6"><a href="#WeighedModulus11">WeighedModulus11</a>
                        </li>
                    </ul>
                </td>
            </tr>
        </table>
        <h3><a name="AllowedAbrechnungsGebietValues" id="AllowedAbrechnungsGebietValues"></a>AllowedAbrechnungsGebietValues<a href="#Top"><img src="../arrow.jpg" alt="Top" title="Top" width="14" height="14" align="right" border="0" /></a></h3>
        <p style="margin-left: 40px;">This function returns a comma separated list of the abrechnungsgebiet values allowed by the specified KV for a specific scheinuntergruppe: the values are retrieved from the corresponding KV-specifika file.</p>
        <table style="margin-left: 40px;border-collapse: separate;border-collapse: separate;" cellspacing="0" width="90%" border="1">
            <tr>
                <td style="width: 100%;">
                    <p><span style="font-style: italic;">String</span><span style="font-weight: bold;">AllowedAbrechnungsGebietValues</span> (<span style="font-style: italic;">String</span><span style="color: #008000;">Scheinuntergruppe</span>, <span style="font-style: italic;">String</span><span style="color: #008000;">OKVKennung</span>, <span style="font-style: italic;">String</span><span style="color: #008000;">Quarter</span>)</p>
                </td>
            </tr>
        </table>
        <p style="margin-left: 40px;"><span style="font-style: italic;">String</span><span style="color: #008000;">Scheinuntergruppe</span>
        </p>
        <p style="margin-left: 80px;">String with the Scheinuntergruppe.</p>
        <p style="margin-left: 40px;"><span style="font-style: italic;">String</span><span style="color: #008000;">OKVKennung</span>
        </p>
        <p style="margin-left: 80px;">String with the OKVKennung of the KV.</p>
        <p style="margin-left: 40px;"><span style="font-style: italic;">String</span><span style="color: #008000;">Quarter</span>
        </p>
        <p style="margin-left: 80px;">String specifying the quarter in QYY-format.</p>
        <h3><a name="AllowedKTABValues" id="AllowedKTABValues"></a>AllowedKTABValues<a href="#Top"><img src="../arrow.jpg" alt="Top" title="Top" width="14" height="14" align="right" border="0" /></a></h3>
        <p style="margin-left: 40px;">This function returns a comma separated list of the KTAB values allowed by the specified KV. The values are retrieved from the corresponding KV-Specifika file.</p>
        <table style="margin-left: 40px;border-collapse: separate;border-collapse: separate;" cellspacing="0" width="90%" border="1">
            <tr>
                <td style="width: 100%;"><span style="font-style: italic;">String</span><span style="font-weight: bold;">AllowedKTABValues</span><span>(</span><span style="font-style: italic;">String</span><span style="color: #008000;">OKVKennung</span><span>,</span><span style="font-style: italic;">String</span><span style="color: #008000;">Quarter</span><span>)</span>
                </td>
            </tr>
        </table>
        <p style="margin-left: 40px;"><span style="font-style: italic;">String</span><span style="color: #008000;">OKVKennung</span>
        </p>
        <p style="margin-left: 80px;">String with the OKV Kennung of the KV.</p>
        <p style="margin-left: 40px;"><span style="font-style: italic;">String</span><span style="color: #008000;">Quarter</span>
        </p>
        <p style="margin-left: 80px;">String specifying the quarter in QYY-format.</p>
        <h3><a name="AllowedScheinuntergruppeValues" id="AllowedScheinuntergruppeValues"></a>AllowedScheinuntergruppeValues<a href="#Top"><img src="../arrow.jpg" alt="Top" title="Top" width="14" height="14" align="right" border="0" /></a></h3>
        <p style="margin-left: 40px;">This function returns a comma separated list of the scheinuntergruppe values allowed by the specified KV: the values are retrieved from the corresponding KV-Specifika file.</p>
        <table style="margin-left: 40px;border-collapse: separate;border-collapse: separate;" cellspacing="0" width="90%" border="1">
            <tr>
                <td style="width: 100%;"><span style="font-style: italic;">String</span><span style="font-weight: bold;">AllowedScheinuntergruppeValues</span> (<span style="font-style: italic;">String</span><span style="color: #008000;">OKVKennung</span>, <span style="font-style: italic;">String</span><span style="color: #008000;">Quarter</span>)</td>
            </tr>
        </table>
        <p style="margin-left: 40px;"><span style="font-style: italic;">String</span><span style="color: #008000;">OKVKennung</span>
        </p>
        <p style="margin-left: 80px;">String with the OKV Kennung of the KV.</p>
        <p style="margin-left: 40px;"><span style="font-style: italic;">String</span><span style="color: #008000;">Quarter</span>
        </p>
        <p style="margin-left: 80px;">String specifying the quarter in QYY-format.</p>
        <h3><a name="EncodeXDTPolicyName" id="EncodeXDTPolicyName"></a>EncodeXDTPolicyName<a href="#Top"><img src="../arrow.jpg" alt="Top" title="Top" width="14" height="14" align="right" border="0" /></a></h3>
        <table style="margin-left: 40px;border-collapse: separate;border-collapse: separate;" cellspacing="0" width="90%" border="1">
            <tr>
                <td style="width: 100%;"><span style="font-style: italic;">String</span><span style="font-weight: bold;">EncodeXDTPolicyName</span> (<span style="font-style: italic;">String</span><span style="color: #008000;">Gebuhrenordnung</span>, <span style="font-style: italic;">String</span><span style="color: #008000;">KTAB</span>, <span style="font-style: italic;">String</span><span style="color: #008000;">Abrechnungstyp</span>)</td>
            </tr>
        </table>
        <p style="margin-left: 40px;"><span style="font-style: italic;">String</span><span style="color: #008000;">KTAB</span>
        </p>
        <p style="margin-left: 80px;">Kostentrager-Abrechnungsbereich</p>
        <h3><a name="EuroToLocal" id="EuroToLocal"></a>EuroToLocal <a href="#Top"><img src="../arrow.jpg" alt="Top" title="Top" width="14" height="14" align="right" border="0" /></a></h3>
        <blockquote>The EuroToLocal function should no longer be used. Use <a href="#ToLocal">ToLocal</a> instead</blockquote>
        <h3><a name="GetAbrechnungsArt" id="GetAbrechnungsArt"></a>GetAbrechnungsArt<a href="#Top"><img src="../arrow.jpg" alt="Top" title="Top" width="14" height="14" align="right" border="0" /></a></h3>
        <p style="margin-left: 40px;">Used in Germany to determine the AbrechnungsArt depending from VKNR and KTAB. <span style="margin-left: 40px;"><br />Reads the necessary information from the KV-Specifika file, record kvx7.<br />Returns the abrechnungsart 1,2 or 3 as defined in kvx3 (where 3 indicates a SKT).<br />It returns "?" if not found.</span></p>
        <table style="margin-left: 40px;border-collapse: separate;border-collapse: separate;" cellspacing="0" width="90%" border="1">
            <tr>
                <td style="width: 100%;">
                    <p><span style="font-style: italic;">PositiveInteger</span><span style="font-weight: bold;">GetAbrechnungsArt</span> (<span style="font-style: italic;">String</span><span style="color: #008000;">OKVKennung</span>, <span style="font-style: italic;">String</span><span style="color: #008000;">Quarter</span>, <span style="font-style: italic;">String</span><span style="color: #008000;">ShortVKNR</span>, <span style="font-style: italic;">String</span><span style="color: #008000;">KTAB</span>)</p>
                </td>
            </tr>
        </table>
        <p style="margin-left: 40px;"><span style="font-style: italic;">String</span><span style="color: #008000;">OKVKennung</span>
        </p>
        <p style="margin-left: 80px;">String with the OKV Kennung of the KV.</p>
        <p style="margin-left: 40px;"><span style="font-style: italic;">String</span><span style="color: #008000;">Quarter</span>
        </p>
        <p style="margin-left: 80px;">String specifying the quarter in QYY-format.</p>
        <p style="margin-left: 40px;"><span style="font-style: italic;">String</span><span style="color: #008000;">ShortVKNR</span>
        </p>
        <p style="margin-left: 80px;">Substring(VKNR,3,3)</p>
        <p style="margin-left: 40px;"><span style="font-style: italic;">String</span><span style="color: #008000;">KTAB</span>
        </p>
        <p style="margin-left: 80px;">Kostentrager-Abrechnungsbereich</p>
        <h3><a name="GetExecutingLab" id="GetExecutingLab"></a>GetExecutingLab<a href="#Top"><img src="../arrow.jpg" alt="Top" title="Top" width="14" height="14" align="right" border="0" /></a></h3>
        <p style="margin-left: 40px;">This function is only available within a specified context: billing document printing.</p>
        <p style="margin-left: 40px;">It returns the HealthCare code (RIZIV) identification of the n-th (index is input parameter) executing lab of a billing document (remark : returns unknown if index or HCCode not available).</p>
        <table style="margin-left: 40px;border-collapse: separate;border-collapse: separate;" cellspacing="0" width="90%" border="1">
            <tr>
                <td style="width: 100%;"><span style="font-style: italic;">String</span><span style="font-weight: bold;">GetExecutingLab</span> (<span style="font-style: italic;">Integer</span><span style="color: #008000;">NthLab</span>)</td>
            </tr>
        </table>
        <p style="margin-left: 40px;"><span style="font-style: italic;">Integer</span><span style="color: #008000;">NthLab</span>
        </p>
        <p style="margin-left: 80px;">Index : the n-th lab that has to be returned.</p>
        <h3><a name="GetFundId" id="GetFundId"></a>GetFundId<a href="#Top"><img src="../arrow.jpg" alt="Top" title="Top" width="14" height="14" align="right" border="0" /></a></h3>
        <p style="margin-left: 40px;">This function returns a reference to the fund specified by the input parameter.</p>
        <table style="margin-left: 40px;border-collapse: separate;border-collapse: separate;" cellspacing="0" width="90%" border="1">
            <tr>
                <td style="width: 100%;"><span style="font-style: italic;">Fund</span><span style="font-weight: bold;">GetFundId</span> (<span style="font-style: italic;">Mnemonic</span><span style="color: #008000;">FundMnemonic</span>)</td>
            </tr>
        </table>
        <h3><a name="GetInvoiceId" id="GetInvoiceId"></a>GetInvoiceId<a href="#Top"><img src="../arrow.jpg" alt="Top" title="Top" width="14" height="14" align="right" border="0" /></a></h3>
        <p style="margin-left: 40px;">This function returns a reference to the Invoice specified by the input parameters. If the VersionNo is not specified, it is considered as no criterion.<br />Returns "?" if no or more than one corresponding invoices is/are found.</p>
        <table style="margin-left: 40px;border-collapse: separate;border-collapse: separate;" cellspacing="0" width="90%" border="1">
            <tr>
                <td style="width: 100%;"><span style="font-style: italic;">Invoice</span><span style="font-weight: bold;">GetInvoiceId</span> (<span style="font-style: italic;">Firm</span><span style="color: #008000;">FirmId</span>, <span style="font-style: italic;">String</span><span style="color: #008000;">DocNo</span>, <span style="font-style: italic;">PositiveInteger</span><span style="color: #008000;">VersionNo</span>)</td>
            </tr>
        </table>
        <p style="margin-left: 40px;"><span style="font-style: italic;">Firm</span><span style="color: #008000;">FirmId</span>
        </p>
        <p style="margin-left: 80px;">Invoice's Firm id</p>
        <p style="margin-left: 40px;"><span style="font-style: italic;">String</span><span style="color: #008000;">DocNo</span>
        </p>
        <p style="margin-left: 80px;">Invoice's document number</p>
        <p style="margin-left: 40px;"><span style="font-style: italic;">PositiveInteger</span><span style="color: #008000;">VersionNo</span>
        </p>
        <p style="margin-left: 80px;">Invoice's document version number; "?": no check on the version number.</p>
        <h3><a name="GetInvoiceSummaryId" id="GetInvoiceSummaryId"></a>GetInvoiceSummaryId<a href="#Top"><img src="../arrow.jpg" alt="Top" title="Top" width="14" height="14" align="right" border="0" /></a></h3>
        <p style="margin-left: 40px;">This function returns a reference to the InvoiceSummary specified by the input parameters. Returns "?" if no corresponding InvoiceSummary is found.</p>
        <table style="margin-left: 40px;border-collapse: separate;border-collapse: separate;" cellspacing="0" width="90%" border="1">
            <tr>
                <td style="width: 100%;"><span style="font-style: italic;">InvoiceSummary</span><span style="font-weight: bold;">GetInvoiceSummaryId</span> (<span style="font-style: italic;">Firm</span><span style="color: #008000;">FirmId</span>, <span style="font-style: italic;">String</span><span style="color: #008000;">DocNo</span>)</td>
            </tr>
        </table>
        <h3><a name="GetPolicyNameId" id="GetPolicyNameId"></a>GetPolicyNameId<a href="#Top"><img src="../arrow.jpg" alt="Top" title="Top" width="14" height="14" align="right" border="0" /></a></h3>
        <p style="margin-left: 40px;">Returns a reference to the matching PolicyName. M<span style="margin-left: 40px;">atching means that an insurance product exists for the given input parameters Fund and PolicyNameCode; if there is no matching then a reference to the default policy name of the fund is returned (if allowed).</span></p>
        <table style="margin-left: 40px;border-collapse: separate;border-collapse: separate;" cellspacing="0" width="90%" border="1">
            <tr>
                <td style="width: 100%;">
                    <p><span style="font-style: italic;">PolicyName</span><span style="font-weight: bold;">GetPolicyNameId</span> (<span style="font-style: italic;">String</span><span style="color: #008000;">PolicyNameCode</span>, <span style="font-style: italic;">Fund</span><span style="color: #008000;">FundId</span>, <span style="font-style: italic;">Logical</span><span style="color: #008000;">CanUseDefaultPolicyName</span>)</p>
                </td>
            </tr>
        </table>
        <h3><a name="GetVertragsarztId" id="GetVertragsarztId"></a>GetVertragsarztId<a href="#Top"><img src="../arrow.jpg" alt="Top" title="Top" width="14" height="14" align="right" border="0" /></a></h3>
        <p style="margin-left: 40px;">This function returns the Vertragsarztnummer Id: <span style="margin-left: 40px;">it corresponds with the n-th record that matches the Vertragarztnummer (or has the same first 7 positions) and has a valid validity date.</span></p>
        <p style="margin-left: 40px;">No validity date specified means today. <span style="margin-left: 40px;">No record specified means first one.</span></p>
        <table style="margin-left: 40px;border-collapse: separate;border-collapse: separate;" cellspacing="0" width="90%" border="1">
            <tr>
                <td style="width: 100%;">
                    <p><span style="font-style: italic;">Vertragsarztnummer</span><span style="font-weight: bold;">GetVertragsarztId</span> (<span style="font-style: italic;">String</span><span style="color: #008000;">Vertragsarztnummer</span>, <span style="font-style: italic;">Date</span><span style="color: #008000;">Validitydate</span>, <span style="font-style: italic;">Integer</span><span style="color: #008000;">NthRecord</span>)</p>
                </td>
            </tr>
        </table>
        <p style="margin-left: 40px;"><span style="font-style: italic;">String</span><span style="color: #008000;">Vertragsarztnummer</span>
        </p>
        <p style="margin-left: 80px;">The official physician number</p>
        <h3><a name="LargeModulo" id="LargeModulo"></a>LargeModulo<a href="#Top"><img src="../arrow.jpg" alt="Top" title="Top" width="14" height="14" align="right" border="0" /></a></h3>
        <blockquote>
            <p>This function allows to perform a remainder calculation.&#160;The 1st parameter is divided by the 2nd parameter and the function returns the remainder as an integer.</p>
            <table style="border-collapse: separate;border-collapse: separate;" cellspacing="0" width="90%" border="1">
                <tr>
                    <td style="width: 100%;"><i style="font-style: italic;">Integer</i><b>LargeModulo</b> (<i>String</i><span style="color: #008000;">Numerator</span><i>Integer</i><span style="color: #008000;">Denominator</span>)</td>
                </tr>
            </table>
            <p><b style="font-weight: bold;">Example:&#160;</b>
            </p>
            <table style="border-collapse: separate;border-collapse: separate;" cellspacing="0" width="90%" border="1">
                <tr>
                    <td style="width: 30%;">LargeModulo ("1000", 33) returns</td>
                    <td style="width: 50%;">10</td>
                </tr>
            </table>
        </blockquote>
        <h3><a name="LocalToEuro" id="LocalToEuro"></a>LocalToEuro<a href="#Top"><img src="../arrow.jpg" alt="Top" title="Top" width="14" height="14" align="right" border="0" /></a></h3>
        <blockquote>The LocalToEuro function should no longer be used, use <a href="#ToEuro">ToEuro</a> instead.</blockquote>
        <h3><a name="FrenchCleType12" id="FrenchCleType12"></a>FrenchCleType12<a href="#Top"><img src="../arrow.jpg" alt="Top" title="Top" width="14" height="14" align="right" border="0" /></a></h3>
        <blockquote>
            <p>This MISPL function has been developed to check identifications that return the 'CLE type 1-2'.</p>
            <table style="border-collapse: separate;border-collapse: separate;" cellspacing="0" width="90%" border="1">
                <tr>
                    <td style="width: 100%;"><i style="font-style: italic;">String</i><b>FrenchCleType12</b> (<i>String</i><span style="color: #008000;">InputString</span>)</td>
                </tr>
            </table>
            <p>This MISPL function could be used in the field Correspondent.IdentificationCheck of the HC Code provider.</p>
            <p>CLE TYPE 1 - 2 :</p>
            <p><b style="font-weight: bold;">A utiliser en France pour</b>
            </p>
            <ul>
                <li value="1">n° Etablissement</li>
                <li value="2">n° Centre de Santé</li>
                <li value="3">n° Praticien</li>
                <li value="4">n° Laboratoire</li>
                <li value="5">n° Pharmacien</li>
                <li value="6">n° Transporteur</li>
                <li value="7">n° Fournisseur</li>
                <li value="8">n° Accident du travail</li>
                <li value="9">n° d organisme complémentaire</li>
            </ul>
            <p><b style="font-weight: bold;">Mode de calcul</b> :</p>
            <ul>
                <li value="1">numéroter les chiffres du numéro de la droite vers la gauche,</li>
                <li value="2">multiplier par 1 les chiffres de rang pair,</li>
                <li value="3">multiplier par 2 les chiffres de rang impair,</li>
                <li value="4">additionner l'ensemble de ces résultats, chiffre par chiffre</li>
                <li value="5">déterminer le complément à 10 du chiffre unitaire de cette somme : il constitue la clé.</li>
            </ul><pre>
Exemple: n°  7 6 0 3 1 2 0 8
Rang:        8 7 6 5 4 3 2 1
</pre><pre>
pair x 1:    7 0 1 0
impair x 2:    12 6 4 16
</pre><pre>
Addition:    7 + 1 +2 + 0 + 6 + 1 + 4 + 0 + 1 + 6 = 28
</pre><pre>
CLE:         10 - 8 = 2
</pre>
        </blockquote>
        <h3><a name="Modulus11" id="Modulus11"></a>&#160;Modulus11<a href="#Top"><img src="../arrow.jpg" alt="Top" title="Top" width="14" height="14" align="right" border="0" /></a></h3>
        <blockquote>
            <p>A control digit calculation which complies with the Dutch "Modulus 11" algorithm.&#160;</p>
            <table style="border-collapse: separate;border-collapse: separate;" cellspacing="0" width="90%" border="1">
                <tr>
                    <td style="width: 100%;"><i style="font-style: italic;">string</i><b>Modulus11</b> (<span style="color: #008000;">String</span>)</td>
                </tr>
            </table>
&#160; It works as follows:
<ul><li value="1"><i style="font-style: italic;">Input parameter</i>: String (should contain numbers only. Not an integer, the string can be very long)</li><li value="2"><i style="font-style: italic;">Output parameter</i>: Character (numeric)</li></ul><p>A weight is assigned to each digit in the input string. These weights are (from right to left) 2, 4, 8, 5, 10, 9, 7, 3, 6 and 1. For inputs longer then 10 positions, the same weights are repeated.<br /><br />The calculation consists of:</p><ul><li value="1"><b style="font-weight: bold;">A</b> = sum of all products (digit x weight)</li><li value="2"><b style="font-weight: bold;">(modulus 11)A</b> = rest after division of A by 11</li><li value="3"><b style="font-weight: bold;">C</b> = (11 - (modulus 11)A) = Control digit</li></ul><p>If C = 10 then assume 1<br />If C = 11 then assume 0<br /><br />Example:<br />input string: 0 0 0 0 5 6 7 8 9 0 1 2 3 4 5<br />weights: 10 5 8 4 2 1 6 3 7 9 10 5 8 4 2<br />Products: 0 0 0 0 10 6 42 24 63 0 10 10 24 16 10<br /><br />A = 215<br />215 / 11 = 19 rest 6<br />C = 11 - 6 = 5</p></blockquote>
        <h3><a name="PaymentAgreements" id="PaymentAgreements"></a>PaymentAgreements<a href="#Top"><img src="../arrow.jpg" alt="Top" title="Top" width="14" height="14" align="right" border="0" /></a></h3>
        <p style="margin-left: 40px;">This function returns a list of payment agreement id<span style="margin-left: 40px;">s which meet the criteria set by the parameters.</span></p>
        <table style="margin-left: 40px;border-collapse: separate;border-collapse: separate;" cellspacing="0" width="90%" border="1">
            <tr>
                <td style="width: 100%;"><span style="font-style: italic;">String</span><span style="font-weight: bold;">PaymentAgreements</span> (<span style="font-style: italic;">String</span><span style="color: #008000;">PolicyNameCode</span>, <span style="font-style: italic;">PositiveInteger</span><span style="color: #008000;">CorrespondentId</span>, <span style="font-style: italic;">PositiveInteger</span><span style="color: #008000;">FundId</span>, <span style="font-style: italic;">Date</span><span style="color: #008000;">ValidityDate</span>)</td>
            </tr>
        </table>
        <p style="margin-left: 40px;"><span style="font-style: italic;">String</span><span style="color: #008000;">PolicyNameCode</span>
        </p>
        <p style="margin-left: 80px;">If specified, only payment agreements of the specified policy name code will be returned. "?" is considered as no criterion.</p>
        <p style="margin-left: 40px;"><span style="font-style: italic;">PositiveInteger</span><span style="color: #008000;">CorrespondentId</span>
        </p>
        <p style="margin-left: 80px;">Only payment agreements made with the specified correspondent (id) will be returned. Specifying "?" causes payment agreements without a party reference (general payment agreements) to be returned.</p>
        <p style="margin-left: 40px;"><span style="font-style: italic;">PositiveInteger</span><span style="color: #008000;">FundId</span>
        </p>
        <p style="margin-left: 80px;">Only payment agreements of the specified fund (id) will be returned. Specifying "?" causes payment agreements without a fund reference to be retrieved.</p>
        <p style="margin-left: 40px;"><span style="font-style: italic;">Date</span><span style="color: #008000;">ValidityDate</span>
        </p>
        <p style="margin-left: 80px;">Only payment agreements valid at the specified date will be returned. "?" is considered as today.</p>
        <h3><a name="StringToOGM" id="StringToOGM"></a>StringToOGM<a href="#Top"><img src="../arrow.jpg" alt="Top" title="Top" width="14" height="14" align="right" border="0" /></a></h3>
        <blockquote>
            <p>This function converts a string representing an integer to an OGM number ("Overschrijvings gestruktureerde mededeling") &lt;s&gt; is the representation of an integer number (&lt;= 9.999.999.999) that must be converted to an OGM number. The output is the OGM number as a string: 999/9999/999xx with xx the check digit (the remainder after division by 97). The result is left padded with "0"'s if needed. An error is returned if the input is not a number.</p>
            <table style="border-collapse: separate;border-collapse: separate;" cellspacing="0" width="90%" border="1">
                <tr>
                    <td style="width: 100%;"><i style="font-style: italic;">String</i><b>StringToOGM</b> (<i>String</i><span style="color: #008000;">OriginalNumber</span>)</td>
                </tr>
            </table>
        </blockquote>
        <h3><a name="TariffingData" id="TariffingData"></a>TariffingData<a href="#Top"><img src="../arrow.jpg" alt="Top" title="Top" width="14" height="14" align="right" border="0" /></a></h3>
        <p style="margin-left: 40px;">This function can retrieve general tariffication data: this data is only available during tariffication (specified context), the function gets its data from shared variables filled in the tariffication program.</p>
        <table style="margin-left: 40px;border-collapse: separate;border-collapse: separate;" cellspacing="0" width="90%" border="1">
            <tr>
                <td style="width: 100%;"><span style="font-style: italic;">String</span><span style="font-weight: bold;">TariffingData</span> (<span style="font-style: italic;">String</span><span style="color: #008000;">WhatToRetrieve</span>)</td>
            </tr>
        </table>
        <p style="margin-left: 40px;"><span style="font-style: italic;">String</span><span style="color: #008000;">WhatToRetrieve</span>
        </p>
        <p style="margin-left: 80px;">What has to be retreived: possibilities are ResidenceType / TariffTime / TariffDayTime / Issuer / Person / ReceivingLab / DispatchingLab .</p>
        <h3><a name="ToEuro" id="ToEuro"></a>ToEuro<a href="#Top"><img src="../arrow.jpg" alt="Top" title="Top" width="14" height="14" align="right" border="0" /></a></h3>
        <p style="margin-left: 40px;">Converts the amount to the corresponding amount in Euro if the amounts stored in Glims are not yet expressed in Euro. The resulting amount is rounded to an amount with the specified number of decimals (digits after the decimal point).</p>
        <table style="margin-left: 40px;border-collapse: separate;border-collapse: separate;" cellspacing="0" width="90%" border="1">
            <tr>
                <td style="width: 100%;">
                    <p><span style="font-style: italic;">Fractional</span><span style="font-weight: bold;">ToEuro</span> (<span style="font-style: italic;">Fractional</span><span style="color: #008000;">Amount</span>, <span style="font-style: italic;">PositiveInteger</span><span style="color: #008000;">DecimalCount</span>)</p>
                </td>
            </tr>
        </table>
        <p style="margin-left: 40px;"><span style="font-style: italic;">Fractional</span><span style="color: #008000;">Amount</span>
        </p>
        <p style="margin-left: 80px;">Amount that needs to be converted.</p>
        <p style="margin-left: 40px;"><span style="font-style: italic;">PositiveInteger</span><span style="color: #008000;">DecimalCount</span>
        </p>
        <p style="margin-left: 80px;">The resulting amount is rounded to an amount with the specified number of decimals (digits after the decimal point). If 'Decimals' is unknown (?) 2 decimals are used (rounding to EuroCents).</p>
        <h3><a name="ToLocal" id="ToLocal"></a>ToLocal<a href="#Top"><img src="../arrow.jpg" alt="Top" title="Top" width="14" height="14" align="right" border="0" /></a></h3>
        <p style="margin-left: 40px;">Converts the amount to the corresponding amount in local currency if the amounts stored in Glims are expressed in Euro. The resulting amount is rounded to an amount with the specified number of decimals (digits after the decimal point).</p>
        <table style="margin-left: 40px;border-collapse: separate;border-collapse: separate;" cellspacing="0" width="90%" border="1">
            <tr>
                <td style="width: 100%;">
                    <p><span style="font-style: italic;">Fractional</span><span style="font-weight: bold;">ToLocal</span> (<span style="font-style: italic;">Fractional</span><span style="color: #008000;">Amount</span>, <span style="font-style: italic;">PositiveInteger</span><span style="color: #008000;">DecimalCount</span>)</p>
                </td>
            </tr>
        </table>
        <p style="margin-left: 40px;"><span style="font-style: italic;">Fractional</span><span style="color: #008000;">Amount</span>
        </p>
        <p style="margin-left: 80px;">Amount that needs to be converted.</p>
        <p style="margin-left: 40px;"><span style="font-style: italic;">PositiveInteger</span><span style="color: #008000;">DecimalCount</span>
        </p>
        <p style="margin-left: 80px;">The resulting amount is rounded to an amount with the specified number of decimals (digits after the decimal point). If 'Decimals' is unknown (?) the number of decimals specified in 'GLIMS -&gt;Customize' for the invoice item's net amount is used.</p>
        <h3><a name="WeighedModulus" id="WeighedModulus"></a>WeighedModulus<a href="#Top"><img src="../arrow.jpg" alt="Top" title="Top" width="14" height="14" align="right" border="0" /></a></h3>
        <blockquote>
            <p>A&#160;remainder or&#160;complement (control digit)&#160;calculation which complies with the&#160;"Weighed Modulus&#160;xx" algorithm.&#160;</p>
            <table style="border-collapse: separate;border-collapse: separate;" cellspacing="0" width="90%" border="1">
                <tr>
                    <td style="width: 100%;"><i style="font-style: italic;">String</i>&#160;<b>WeighedModulus</b> (<i>String</i><span style="color: #008000;">StringToCheck</span>, <i>String</i><span style="color: #008000;">WeightList</span>, <i>Integer</i><span style="color: #008000;">Divider</span>, <i>Logical</i><span style="color: #008000;">ReturnComplement</span>)</td>
                </tr>
            </table>
            <dl>
                <dt><span style="color: #008000;">StringToCheck&#160;</span>
                </dt>
                <dd>Should contain numbers only :&#160;not an integer, the string can be very long</dd>
                <dt><span style="color: #008000;">WeightList</span>
                </dt>
                <dd>Comma-separated list of weighing-factors which have to be to used</dd>
                <dt><span style="color: #008000;">Divider&#160;</span>
                </dt>
                <dd>Numeric : which value (7 or 11 or ...) must&#160;be used for "weighed modulus xx" algorithm)</dd>
                <dt><span style="color: #008000;">ReturnComplement&#160;</span>
                </dt>
                <dd>Indicates whether remainder (false) or complement (true) must be returned</dd>
            </dl>
            <p>Output parameter:&#160;String&#160;(result :&#160;remainder&#160;or check digit(s) (complement) in character-format)</p>
            <p>Weights&#160;out of weightlist (max. 10) are assigned to each digit in the input string (string to check) : such an inputted weightlist is&#160;specific for each&#160;modulus type (ex. Spanish bank account&#160;weighed&#160;modulus&#160;11 : weighing-factors&#160;6,&#160;3,&#160;7,&#160;9, 10,&#160;5,&#160;8,&#160;4,&#160;2 and 1).<br /><br />These weights are multiplied&#160;with&#160;each digit in the inputted string&#160;from&#160;right&#160;to left&#160;!!! For inputs longer then 10 positions, the same weights are repeated as many times as needed.<br /><br />The calculation consists of:</p>
            <ul>
                <li value="1">A = sum of all products (digit x weight)</li>
                <li value="2">(modulus&#160;xx)A =&#160;remainder = rest after division of A by&#160;inputted divider xx</li>
                <li value="3">C = (divider -&#160;remainder) =&#160;complement</li>
            </ul>
Either the remainder or the complement is returned (referring logical ReturnComplement). Possible further actions on a returned complement : in MISPL-logic itself.
<p>Example of a calculation :</p><p>Sum of all products = A = 215<br />Remainder = 215 /&#160;23 =&#160;9&#160;with&#160;remainder&#160;8<br />Complement C =&#160;23 -&#160;8 =&#160;15</p></blockquote>
        <h3><a name="WeighedModulus11" id="WeighedModulus11"></a>WeighedModulus11<a href="#Top"><img src="../arrow.jpg" alt="Top" title="Top" width="14" height="14" align="right" border="0" /></a></h3>
        <blockquote>
            <p>A remainder or&#160;complement (control digit)&#160;calculation which complies with the&#160;"Weighed Modulus 11" algorithm.</p>
            <table style="border-collapse: separate;border-collapse: separate;" cellspacing="0" width="90%" border="1">
                <tr>
                    <td style="width: 100%;"><i style="font-style: italic;">String</i>&#160;<b>WeighedModulus11</b> (<i>String</i><span style="color: #008000;">Modulustype</span>, <i>String</i><span style="color: #008000;">StringToCheck</span>)</td>
                </tr>
            </table>
            <dl>
                <dt><span style="color: #008000;">Modulustype&#160;</span>
                </dt>
                <dd>&#160; Possible Modulustypes are :<br />&#160;&#160;<br />1 = Dutch BankAccount (return remainder with weights 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 )</dd>
                <dd>&#160;</dd>
                <dd>2 = Dutch PaymentReference (return complement with weights 2, 4, 8, 5, 10, 9, 7, 3, 6, 1 )</dd>
                <dd>&#160;</dd>
                <dd>3 = Spanish BankAccount (return complement 6, 3, 7, 9, 10, 5, 8, 4, 2, 1 )</dd>
            </dl>
            <blockquote>
                <p>4 = Swiss 'PostKonto' (Modulus calculated on the 8 digit format)</p>
                <p>5 = Swiss paymentreference (Modulus calculated on 26 digit format)</p>
                <p>6 = Swiss number</p>
            </blockquote>
            <dl>
                <dt><span style="color: #008000;">StringToCheck&#160;</span>
                </dt>
                <dd>Should contain numbers only :&#160;not an integer, the string can be very long</dd>
            </dl>
            <p>Output parameter: Character (numeric value : remainder&#160;or checkdigit (complement), dependable on modulustype)</p>
            <p>Weights&#160;are assigned to each digit in the input string (string to check) : a list of weights is&#160;implemented for each modulus type (ex. for Dutch PaymentReference&#160;2, 4, 8, 5, 10, 9, 7, 3, 6 and 1).<br /><br />These weights are multiplied&#160;with&#160;each digit in the inputted string&#160;from&#160;right&#160;to left&#160;!!! For inputs longer then 10 positions, the same weights are repeated as many times as needed.<br /><br />Calculation&#160;as in WeighedModulus function&#160;:&#160;<br />used divider is 11<br />one check digit&#160;(0 ... 9) is returned :<br />if C = 10 then assume 1<br />if C = 11 then assume 0</p>
        </blockquote>
    </body>
</html>